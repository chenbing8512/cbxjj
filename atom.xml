<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[chenbing's blog]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://chenbing8512.github.io/cbxjj/"/>
  <updated>2016-04-21T04:17:17.126Z</updated>
  <id>http://chenbing8512.github.io/cbxjj/</id>
  
  <author>
    <name><![CDATA[chenbing]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[echarts3地图下钻至区县]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2016/04/21/echarts-three%E5%9C%B0%E5%9B%BE%E4%B8%8B%E9%92%BB%E8%87%B3%E5%8C%BA%E5%8E%BF/"/>
    <id>http://chenbing8512.github.io/cbxjj/2016/04/21/echarts-three地图下钻至区县/</id>
    <published>2016-04-21T03:22:50.000Z</published>
    <updated>2016-04-21T04:17:17.126Z</updated>
    <content type="html"><![CDATA[<p>Echarts3有比较多的改动,官方没有实例来展示地图多级下钻,虽然还是支持的,但是坑比较多<br>option如下:<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">var option = &#123;</span><br><span class="line">			<span class="string">title :</span> &#123;</span><br><span class="line">				<span class="string">text :</span> <span class="string">''</span>,</span><br><span class="line">				<span class="string">x :</span> <span class="string">'center'</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="string">tooltip :</span> &#123;</span><br><span class="line">				<span class="string">show :</span> <span class="literal">true</span>,</span><br><span class="line">				<span class="string">trigger :</span> <span class="string">'item'</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="comment">/* roamController : &#123;</span><br><span class="line">				show : true,</span><br><span class="line">				x : 'right',</span><br><span class="line">				y : 'bottom',</span><br><span class="line">				mapTypeControl : &#123;</span><br><span class="line">					'china' : true</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;, */</span></span><br><span class="line">			<span class="string">dataRange :</span> &#123;</span><br><span class="line"><span class="label">				show:</span> <span class="literal">false</span>,</span><br><span class="line">				<span class="string">min :</span> <span class="number">0</span>,</span><br><span class="line">				<span class="string">max :</span> <span class="number">5000</span>,</span><br><span class="line">				<span class="string">color :</span> [ <span class="string">'orangered'</span>, <span class="string">'yellow'</span>, <span class="string">'lightskyblue'</span> ],</span><br><span class="line">				<span class="string">calculable :</span> <span class="literal">true</span></span><br><span class="line">			&#125;,</span><br><span class="line"><span class="label">			series:</span> [&#123;</span><br><span class="line"><span class="label">                name:</span> <span class="string">'安徽'</span>,</span><br><span class="line"><span class="label">                type:</span> <span class="string">'map'</span>,</span><br><span class="line"><span class="label">                mapType:</span> <span class="string">'安徽'</span>,</span><br><span class="line">				<span class="string">label :</span> &#123;</span><br><span class="line">					<span class="string">normal :</span> &#123;</span><br><span class="line">						<span class="string">show :</span> <span class="literal">true</span></span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="string">emphasis :</span> &#123;</span><br><span class="line">						<span class="string">show :</span> <span class="literal">true</span></span><br><span class="line">					&#125;</span><br><span class="line">				&#125;,</span><br><span class="line">				<span class="string">itemStyle :</span> &#123;</span><br><span class="line">					<span class="string">normal :</span> &#123;</span><br><span class="line">						<span class="string">borderWidth :</span> <span class="number">0</span>,</span><br><span class="line">						<span class="string">borderColor :</span> <span class="string">'rgb(150, 150, 150)'</span>,</span><br><span class="line"><span class="label">						shadowColor:</span> <span class="string">'rgba(0, 0, 0, 0.7)'</span>,</span><br><span class="line"><span class="label">				        shadowBlur:</span> <span class="number">8</span></span><br><span class="line">					&#125;,</span><br><span class="line">					<span class="string">emphasis :</span> &#123; <span class="comment">// 也是选中样式</span></span><br><span class="line">						<span class="string">borderWidth :</span> <span class="number">0</span>,</span><br><span class="line">						<span class="string">color :</span> <span class="string">'#32cd32'</span>,</span><br><span class="line"><span class="label">						shadowColor:</span> <span class="string">'rgba(0, 0, 0, 0.7)'</span>,</span><br><span class="line"><span class="label">				        shadowBlur:</span> <span class="number">8</span></span><br><span class="line">					&#125;</span><br><span class="line">				&#125;,</span><br><span class="line"><span class="label">		        roam:</span> <span class="literal">true</span>,</span><br><span class="line"><span class="label">                selectedMode:</span><span class="string">'single'</span>,</span><br><span class="line"><span class="label">                data:</span>[</span><br><span class="line">                	&#123;<span class="string">"name"</span>:<span class="string">"安徽"</span>,<span class="string">"value"</span>:<span class="string">"5211"</span>&#125;,      </span><br><span class="line">                	&#123;<span class="string">"name"</span>:<span class="string">"湖北"</span>,<span class="string">"value"</span>:<span class="string">"0"</span>&#125;,      </span><br><span class="line">                	&#123;<span class="string">"name"</span>:<span class="string">"湖南"</span>,<span class="string">"value"</span>:<span class="string">"0"</span>&#125;</span><br><span class="line">                ] <span class="comment">//必须带上 不带报错</span></span><br><span class="line">		    &#125;]<span class="comment">//必须写进数组  直接写对象报错</span></span><br><span class="line">		&#125;;</span><br></pre></td></tr></table></figure></p>
<p>series不要使用map,必须使用mapType,不然触发了官方推荐的点击事件mapselectchanged也得不到想要的值,<br>data必须存在,写个空也行,<br>series必须写成数组,即使只有一个图<br>地图json文件可以使用echart2的也可以使用3的,但是3的地图文件显示的很不美观,很多都挤到了一起,<br>以下实例使用的2的地图文件<br><iframe src="/demo/echarts3/test.html" width="800" height="600" frameborder="0" allowfullscreen></iframe></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>Echarts3有比较多的改动,官方没有实例来展示地图多级下钻,虽然还是支持的,但是坑比较多<br>option如下:<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span ]]>
    </summary>
    
      <category term="baiduMap" scheme="http://chenbing8512.github.io/cbxjj/tags/baiduMap/"/>
    
      <category term="javascript" scheme="http://chenbing8512.github.io/cbxjj/tags/javascript/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="javascript" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/javascript/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用java去掉图片的黑色背景]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2016/04/21/java-remove-image-blank-backgroud/"/>
    <id>http://chenbing8512.github.io/cbxjj/2016/04/21/java-remove-image-blank-backgroud/</id>
    <published>2016-04-21T03:05:38.000Z</published>
    <updated>2016-04-21T03:16:41.242Z</updated>
    <content type="html"><![CDATA[<h2 id="u9700_u6C42"><a href="#u9700_u6C42" class="headerlink" title="需求"></a>需求</h2><p>做游戏从别人的客户端里面抠图出来,很多端游都是黑色背景的图片,不能直接用,用ps一个一个来又太麻烦了,<br>比如下图:<br><img src="/2016/04/21/java-remove-image-blank-backgroud/jinjiao.bmp" alt="金角大王" title="金角大王"><br>可以使用以下代码处理<br>处理之后入下图:<br><img src="/2016/04/21/java-remove-image-blank-backgroud/jinjiao_s.png" alt="金角大王" title="金角大王"><br>处理之后只有15K了<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.Graphics;</span><br><span class="line"><span class="keyword">import</span> java.awt.Graphics2D;</span><br><span class="line"><span class="keyword">import</span> java.awt.GraphicsConfiguration;</span><br><span class="line"><span class="keyword">import</span> java.awt.GraphicsDevice;</span><br><span class="line"><span class="keyword">import</span> java.awt.GraphicsEnvironment;</span><br><span class="line"><span class="keyword">import</span> java.awt.HeadlessException;</span><br><span class="line"><span class="keyword">import</span> java.awt.Image;</span><br><span class="line"><span class="keyword">import</span> java.awt.Transparency;</span><br><span class="line"><span class="keyword">import</span> java.awt.<span class="built_in">image</span>.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.swing.ImageIcon;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> class Alpha &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">byte</span>[] transferAlpha(Image <span class="built_in">image</span>) &#123;</span><br><span class="line">        ByteArrayOutputStream byteArrayOutputStream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ImageIcon imageIcon = <span class="keyword">new</span> ImageIcon(<span class="built_in">image</span>);</span><br><span class="line">            BufferedImage bufferedImage = <span class="keyword">new</span> BufferedImage(imageIcon</span><br><span class="line">                    .getIconWidth(), imageIcon.getIconHeight(),</span><br><span class="line">                    BufferedImage.TYPE_4BYTE_ABGR);</span><br><span class="line">            Graphics2D g2D = (Graphics2D) bufferedImage.getGraphics();</span><br><span class="line">            g2D.drawImage(imageIcon.getImage(), <span class="number">0</span>, <span class="number">0</span>, imageIcon</span><br><span class="line">                    .getImageObserver());</span><br><span class="line">            <span class="built_in">int</span> <span class="built_in">alpha</span> = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="built_in">int</span> j1 = bufferedImage.getMinY(); j1 &lt; bufferedImage</span><br><span class="line">                    .getHeight(); j1++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">int</span> j2 = bufferedImage.getMinX(); j2 &lt; bufferedImage</span><br><span class="line">                        .getWidth(); j2++) &#123;</span><br><span class="line">                    <span class="built_in">int</span> rgb = bufferedImage.getRGB(j2, j1);</span><br><span class="line"> </span><br><span class="line">                    <span class="built_in">int</span> R =(rgb &amp; <span class="number">0xff0000</span> ) &gt;&gt; <span class="number">16</span> ;</span><br><span class="line">                <span class="built_in">int</span> G= (rgb &amp; <span class="number">0xff00</span> ) &gt;&gt; <span class="number">8</span> ;</span><br><span class="line">                <span class="built_in">int</span> B= (rgb &amp; <span class="number">0xff</span> );</span><br><span class="line">                <span class="comment">//if(((255-R)&lt;30) &amp;&amp; ((255-G)&lt;30) &amp;&amp; ((255-B)&lt;30))&#123; //去除白色背景；</span></span><br><span class="line">                <span class="keyword">if</span>(((<span class="number">255</span>-R)&gt;<span class="number">250</span>) &amp;&amp; ((<span class="number">255</span>-G)&gt;<span class="number">250</span>) &amp;&amp; ((<span class="number">255</span>-B)&gt;<span class="number">250</span>))&#123;<span class="comment">//去除黑色背景——dlgcy；</span></span><br><span class="line">                    rgb = ((<span class="built_in">alpha</span> + <span class="number">1</span>) &lt;&lt; <span class="number">24</span>) | (rgb &amp; <span class="number">0x00ffffff</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                bufferedImage.setRGB(j2, j1, rgb);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            g2D.drawImage(bufferedImage, <span class="number">0</span>, <span class="number">0</span>, imageIcon.getImageObserver());</span><br><span class="line">            <span class="comment">//ImageIO.write(bufferedImage, "png", new File("d:/test.png.png"));</span></span><br><span class="line">            ImageIO.write(bufferedImage, <span class="string">"png"</span>, byteArrayOutputStream);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">return</span> byteArrayOutputStream.toByteArray();</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line">    <span class="comment">//byte[] ------&gt;BufferedImage</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> BufferedImage ByteToBufferedImage(<span class="built_in">byte</span>[] byteImage) <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        ByteArrayInputStream in = <span class="keyword">new</span> ByteArrayInputStream(byteImage);</span><br><span class="line">        BufferedImage buffImage = ImageIO.read(in);    </span><br><span class="line">        <span class="keyword">return</span> buffImage;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//Image转换为BufferedImage；</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> BufferedImage toBufferedImage(Image <span class="built_in">image</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">image</span> <span class="keyword">instanceof</span> BufferedImage) &#123;</span><br><span class="line">            <span class="keyword">return</span> (BufferedImage) <span class="built_in">image</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">image</span> = <span class="keyword">new</span> ImageIcon(<span class="built_in">image</span>).getImage();</span><br><span class="line">        <span class="built_in">boolean</span> hasAlpha = <span class="keyword">false</span>;</span><br><span class="line">        BufferedImage bimage = <span class="keyword">null</span>;</span><br><span class="line">        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">int</span> transparency = Transparency.OPAQUE;</span><br><span class="line">            <span class="keyword">if</span> (hasAlpha) &#123;</span><br><span class="line">                transparency = Transparency.BITMASK;</span><br><span class="line">            &#125;</span><br><span class="line">            GraphicsDevice gs = ge.getDefaultScreenDevice();</span><br><span class="line">            GraphicsConfiguration gc = gs.getDefaultConfiguration();</span><br><span class="line">            bimage = gc.createCompatibleImage(<span class="built_in">image</span>.getWidth(<span class="keyword">null</span>),</span><br><span class="line">                    <span class="built_in">image</span>.getHeight(<span class="keyword">null</span>), transparency);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (HeadlessException e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (bimage == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="built_in">int</span> type = BufferedImage.TYPE_INT_RGB;</span><br><span class="line">            <span class="keyword">if</span> (hasAlpha) &#123;</span><br><span class="line">                type = BufferedImage.TYPE_INT_ARGB;</span><br><span class="line">            &#125;</span><br><span class="line">            bimage = <span class="keyword">new</span> BufferedImage(<span class="built_in">image</span>.getWidth(<span class="keyword">null</span>),</span><br><span class="line">                    <span class="built_in">image</span>.getHeight(<span class="keyword">null</span>), type);</span><br><span class="line">        &#125;</span><br><span class="line">        Graphics g = bimage.<span class="built_in">createGraphics</span>();</span><br><span class="line">        g.drawImage(<span class="built_in">image</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">null</span>);</span><br><span class="line">        g.dispose();</span><br><span class="line">        <span class="keyword">return</span> bimage;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    	Long start = System.currentTimeMillis();</span><br><span class="line">    	<span class="keyword">String</span> imgPath = <span class="string">"C:\\Users\\Administrator\\Desktop\\jinjiao.bmp"</span>;</span><br><span class="line">    	BufferedImage <span class="built_in">image</span> = ImageIO.read(<span class="keyword">new</span> FileInputStream(imgPath));</span><br><span class="line">    	BufferedImage newImg = ByteToBufferedImage(transferAlpha(<span class="built_in">image</span>));</span><br><span class="line">        ImageIO.write(newImg, <span class="string">"png"</span>,<span class="keyword">new</span> File(<span class="string">"C:\\Users\\Administrator\\Desktop\\jinjiao_s.png"</span>));</span><br><span class="line">    	Long end = System.currentTimeMillis();</span><br><span class="line">    	System.out.<span class="built_in">println</span>(end - start);</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="u9700_u6C42"><a href="#u9700_u6C42" class="headerlink" title="需求"></a>需求</h2><p>做游戏从别人的客户端里面抠图出来,很多端游都是黑色背景的图片,不能直接用,用ps一个一个来又太麻烦了,<]]>
    </summary>
    
      <category term="java" scheme="http://chenbing8512.github.io/cbxjj/tags/java/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="java" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/java/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[【libgdx】绘制扇形和圆角矩形]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2016/01/27/libgdx%E7%BB%98%E5%88%B6%E6%89%87%E5%BD%A2%E5%92%8C%E5%9C%86%E8%A7%92%E7%9F%A9%E5%BD%A2/"/>
    <id>http://chenbing8512.github.io/cbxjj/2016/01/27/libgdx绘制扇形和圆角矩形/</id>
    <published>2016-01-26T17:39:37.000Z</published>
    <updated>2016-02-03T02:30:41.883Z</updated>
    <content type="html"><![CDATA[<p>绘制扇形,可以使用三角形才拼接而成,如果要使扇形足够圆滑那么需要使用的三角形角度足够小,可以使用1度画一个三角形,连起来就是一个扇形了<br>代码比较简单<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">	 * 绘制扇形</span><br><span class="line">	 * </span><br><span class="line">	 * @param x</span><br><span class="line">	 *            扇形x坐标</span><br><span class="line">	 * @param y</span><br><span class="line">	 *            扇形y坐标</span><br><span class="line">	 * @param radius</span><br><span class="line">	 *            半径</span><br><span class="line">	 * @param startAngle</span><br><span class="line">	 *            初始角度</span><br><span class="line">	 * @param interval</span><br><span class="line">	 *            扇形角度</span><br><span class="line">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">renderSector</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y, <span class="keyword">float</span> radius, <span class="keyword">float</span> startAngle,</span><br><span class="line">			<span class="keyword">float</span> interval)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> num = (<span class="keyword">int</span>) interval;</span><br><span class="line">		<span class="keyword">float</span>[][] points = <span class="keyword">new</span> <span class="keyword">float</span>[num][<span class="number">2</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">			points[i][<span class="number">0</span>] = x + radius * MathUtils.cosDeg(startAngle + i);</span><br><span class="line">			points[i][<span class="number">1</span>] = y + radius * MathUtils.sinDeg(startAngle + i);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		rend.setColor(Color.YELLOW);</span><br><span class="line">		Gdx.gl.glEnable(GL20.GL_BLEND);</span><br><span class="line">		Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);</span><br><span class="line">		rend.begin(ShapeType.Filled);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num - <span class="number">1</span>; i++) &#123;</span><br><span class="line">			rend.triangle(x, y, points[i][<span class="number">0</span>], points[i][<span class="number">1</span>], points[i + <span class="number">1</span>][<span class="number">0</span>],</span><br><span class="line">					points[i + <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">		&#125;</span><br><span class="line">		rend.end();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure><br>其中 x + radius <em> MathUtils.cosDeg(startAngle + i) 这个就是为了确定扇形每一度上的和x坐标<br>如下图所示<br><img src="/2016/01/27/libgdx绘制扇形和圆角矩形/shanxing.png" alt="扇形示意图" title="扇形示意图"><br>MathUtils.cosDeg(A)= x/z  A为图上的A角度 x为该角度的x坐标  z为扇形半径<br>那么radius </em> MathUtils.cosDeg(A) = x轴坐标<br>那么可以根据扇形画法来画出圆角矩形<br>如下图所示<br><img src="/2016/01/27/libgdx绘制扇形和圆角矩形/yuanjiao.png" alt="圆角矩形示意图" title="圆角矩形示意图"><br>可以将圆角矩形分为4条线和4个扇形,那么根据以上扇形画法,圆角矩形代码如下：<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span><br><span class="line">	 * 绘制圆角矩形</span><br><span class="line">	 * @param x  x坐标</span><br><span class="line">	 * @param y  y坐标</span><br><span class="line">	 * @param width  矩形宽度</span><br><span class="line">	 * @param height 矩形高度</span><br><span class="line">	 * @param radius 圆角半径</span><br><span class="line">	 * @param color  矩形颜色</span><br><span class="line">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> DrawCircleRect(<span class="built_in">float</span> x, <span class="built_in">float</span> y, <span class="built_in">float</span> <span class="variable">width</span>, <span class="built_in">float</span> <span class="variable">height</span>,</span><br><span class="line">			<span class="built_in">float</span> radius, Color <span class="built_in">color</span>) &#123;</span><br><span class="line">		rend.setColor(<span class="built_in">color</span>);</span><br><span class="line">		rend.begin(ShapeType.Line);</span><br><span class="line"></span><br><span class="line">		rend.<span class="built_in">line</span>(x + radius, y, x + <span class="variable">width</span> - radius, y); <span class="comment">// 下方线</span></span><br><span class="line">		rend.<span class="built_in">line</span>(x + radius, y + <span class="variable">height</span>, x + <span class="variable">width</span> - radius, y + <span class="variable">height</span>);<span class="comment">// 上方线</span></span><br><span class="line">		rend.<span class="built_in">line</span>(x, y + radius, x, y + <span class="variable">height</span> - radius); <span class="comment">// 左方线</span></span><br><span class="line">		rend.<span class="built_in">line</span>(x + <span class="variable">width</span>, y + radius, x + <span class="variable">width</span>, y + <span class="variable">height</span> - radius); <span class="comment">// 右方线</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 左上角</span></span><br><span class="line">		<span class="built_in">float</span> x0 = x + radius;</span><br><span class="line">		<span class="built_in">float</span> y0 = y + <span class="variable">height</span> - radius;</span><br><span class="line">		<span class="built_in">int</span> num = <span class="number">30</span>; <span class="comment">// 画30个点组成扇形</span></span><br><span class="line">		<span class="built_in">float</span> perDegree = <span class="number">90</span>f / num;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">			<span class="built_in">float</span> one = <span class="number">90</span> + i * perDegree;</span><br><span class="line">			<span class="built_in">float</span> two = <span class="number">90</span> + (i + <span class="number">1</span>) * perDegree;</span><br><span class="line">			Vector2 v1 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(one), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(one));</span><br><span class="line">			Vector2 v2 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(two), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(two));</span><br><span class="line">			rend.<span class="built_in">line</span>(v1, v2);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 右上角</span></span><br><span class="line">		x0 = x + <span class="variable">width</span> - radius;</span><br><span class="line">		y0 = y + <span class="variable">height</span> - radius;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">			<span class="built_in">float</span> one = i * perDegree;</span><br><span class="line">			<span class="built_in">float</span> two = (i + <span class="number">1</span>) * perDegree;</span><br><span class="line">			Vector2 v1 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(one), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(one));</span><br><span class="line">			Vector2 v2 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(two), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(two));</span><br><span class="line">			rend.<span class="built_in">line</span>(v1, v2);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 左上角</span></span><br><span class="line">		x0 = x + radius;</span><br><span class="line">		y0 = y + radius;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">			<span class="built_in">float</span> one = <span class="number">180</span> + i * perDegree;</span><br><span class="line">			<span class="built_in">float</span> two = <span class="number">180</span> + (i + <span class="number">1</span>) * perDegree;</span><br><span class="line">			Vector2 v1 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(one), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(one));</span><br><span class="line">			Vector2 v2 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(two), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(two));</span><br><span class="line">			rend.<span class="built_in">line</span>(v1, v2);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 右上角</span></span><br><span class="line">		x0 = x + <span class="variable">width</span> - radius;</span><br><span class="line">		y0 = y + radius;</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">			<span class="built_in">float</span> one = <span class="number">270</span> + i * perDegree;</span><br><span class="line">			<span class="built_in">float</span> two = <span class="number">270</span> + (i + <span class="number">1</span>) * perDegree;</span><br><span class="line">			Vector2 v1 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(one), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(one));</span><br><span class="line">			Vector2 v2 = <span class="keyword">new</span> Vector2(x0 + radius * MathUtils.cosDeg(two), y0</span><br><span class="line">					+ radius * MathUtils.sinDeg(two));</span><br><span class="line">			rend.<span class="built_in">line</span>(v1, v2);</span><br><span class="line">		&#125;</span><br><span class="line">		rend.end();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>绘制扇形,可以使用三角形才拼接而成,如果要使扇形足够圆滑那么需要使用的三角形角度足够小,可以使用1度画一个三角形,连起来就是一个扇形了<br>代码比较简单<br><figure class="highlight cpp"><table><tr><td class="gutt]]>
    </summary>
    
      <category term="libgdx" scheme="http://chenbing8512.github.io/cbxjj/tags/libgdx/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="libgdx" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/libgdx/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[java连接ssh并使用shell命令]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2016/01/25/java-use-ssh-connact-linux/"/>
    <id>http://chenbing8512.github.io/cbxjj/2016/01/25/java-use-ssh-connact-linux/</id>
    <published>2016-01-25T03:41:48.000Z</published>
    <updated>2016-01-25T03:58:55.052Z</updated>
    <content type="html"><![CDATA[<p>直接上代码了<br>代码从网上获得,经过测试可以使用,可以测试连续多条shell命令,可以再ssh到别的机器上测试,效果还不错,可以用来检测mongo集群状态和启动、重启集群<br><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Ssh;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.ChannelShell;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.JSch;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.Session;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.UserInfo;</span><br><span class="line"><span class="keyword">import</span> expect4j.Closure;</span><br><span class="line"><span class="keyword">import</span> expect4j.Expect4j;</span><br><span class="line"><span class="keyword">import</span> expect4j.ExpectState;</span><br><span class="line"><span class="keyword">import</span> expect4j.matches.EofMatch;</span><br><span class="line"><span class="keyword">import</span> expect4j.matches.Match;</span><br><span class="line"><span class="keyword">import</span> expect4j.matches.RegExpMatch;</span><br><span class="line"><span class="keyword">import</span> expect4j.matches.TimeoutMatch;</span><br><span class="line"><span class="keyword">import</span> org.apache.log4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.apache.oro.<span class="built_in">text</span>.regex.MalformedPatternException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * Created by Administrator on 2016/1/25.</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">public</span> class SshConnectTest &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger <span class="built_in">log</span> = Logger.getLogger(SshConnectTest.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Session session;</span><br><span class="line">    <span class="keyword">private</span> ChannelShell channel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Expect4j expect = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> defaultTimeOut = <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">private</span> StringBuffer buffer = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">int</span> COMMAND_EXECUTION_SUCCESS_OPCODE = -<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> BACKSLASH_R = <span class="string">"\r"</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> BACKSLASH_N = <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> COLON_CHAR = <span class="string">":"</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> ENTER_CHARACTER = BACKSLASH_R;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="built_in">int</span> SSH_PORT = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//正则匹配，用于处理服务器返回的结果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span>[] linuxPromptRegEx = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"~]#"</span>, <span class="string">"~#"</span>, <span class="string">"#"</span>,</span><br><span class="line">            <span class="string">":~#"</span>, <span class="string">"/$"</span>, <span class="string">"&gt;"</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span>[] errorMsg = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"could not acquire the config lock "</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ssh服务器的ip地址</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> ip;</span><br><span class="line">    <span class="comment">//ssh服务器的登入端口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> port;</span><br><span class="line">    <span class="comment">//ssh服务器的登入用户名</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> user;</span><br><span class="line">    <span class="comment">//ssh服务器的登入密码</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">String</span> password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> SshConnectTest(<span class="keyword">String</span> ip, <span class="built_in">int</span> port, <span class="keyword">String</span> user, <span class="keyword">String</span> password) &#123;</span><br><span class="line">        <span class="keyword">this</span>.ip = ip;</span><br><span class="line">        <span class="keyword">this</span>.port = port;</span><br><span class="line">        <span class="keyword">this</span>.user = user;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">        expect = getExpect();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 关闭SSH远程连接</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> disconnect() &#123;</span><br><span class="line">        <span class="keyword">if</span> (channel != <span class="keyword">null</span>) &#123;</span><br><span class="line">            channel.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (session != <span class="keyword">null</span>) &#123;</span><br><span class="line">            session.disconnect();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 获取服务器返回的信息</span><br><span class="line">     *</span><br><span class="line">     * @return 服务端的执行结果</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">String</span> getResponse() &#123;</span><br><span class="line">        <span class="keyword">return</span> buffer.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获得Expect4j对象，该对用可以往SSH发送命令请求</span></span><br><span class="line">    <span class="keyword">private</span> Expect4j getExpect() &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">log</span>.info(<span class="keyword">String</span>.format(<span class="string">"Start logging to %s@%s:%s"</span>, user, ip, port));</span><br><span class="line">            JSch jsch = <span class="keyword">new</span> JSch();</span><br><span class="line">            session = jsch.getSession(user, ip, port);</span><br><span class="line">            session.setPassword(password);</span><br><span class="line">            Hashtable&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt; config = <span class="keyword">new</span> Hashtable&lt;<span class="keyword">String</span>, <span class="keyword">String</span>&gt;();</span><br><span class="line">            config.put(<span class="string">"StrictHostKeyChecking"</span>, <span class="string">"no"</span>);</span><br><span class="line">            session.setConfig(config);</span><br><span class="line">            localUserInfo ui = <span class="keyword">new</span> localUserInfo();</span><br><span class="line">            session.setUserInfo(ui);</span><br><span class="line">            session.connect();</span><br><span class="line">            channel = (ChannelShell) session.openChannel(<span class="string">"shell"</span>);</span><br><span class="line">            Expect4j expect = <span class="keyword">new</span> Expect4j(channel.getInputStream(), channel</span><br><span class="line">                    .getOutputStream());</span><br><span class="line">            channel.connect();</span><br><span class="line">            <span class="built_in">log</span>.info(<span class="keyword">String</span>.format(<span class="string">"Logging to %s@%s:%s successfully!"</span>, user, ip, port));</span><br><span class="line">            <span class="keyword">return</span> expect;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            <span class="built_in">log</span>.error(<span class="string">"Connect to "</span> + ip + <span class="string">":"</span> + port + <span class="string">"failed,please check your username and password!"</span>);</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * 执行配置命令</span><br><span class="line">     *</span><br><span class="line">     * @param commands 要执行的命令，为字符数组</span><br><span class="line">     * @return 执行是否成功</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">boolean</span> executeCommands(<span class="keyword">String</span>[] commands) &#123;</span><br><span class="line">        <span class="comment">//如果expect返回为0，说明登入没有成功</span></span><br><span class="line">        <span class="keyword">if</span> (expect == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">log</span>.debug(<span class="string">"----------Running commands are listed as follows:----------"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">String</span> command : commands) &#123;</span><br><span class="line">            <span class="built_in">log</span>.info(command);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">log</span>.info(<span class="string">"----------End----------"</span>);</span><br><span class="line"></span><br><span class="line">        Closure closure = <span class="keyword">new</span> Closure() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> run(ExpectState expectState) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                <span class="built_in">log</span>.error(<span class="string">"print is : "</span>+expectState.getBuffer());</span><br><span class="line">                buffer.<span class="built_in">append</span>(expectState.getBuffer());<span class="comment">// buffer is string</span></span><br><span class="line">                <span class="comment">// buffer for appending</span></span><br><span class="line">                <span class="comment">// output of executed</span></span><br><span class="line">                <span class="comment">// command</span></span><br><span class="line">                expectState.exp_continue();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        List&lt;Match&gt; lstPattern = <span class="keyword">new</span> ArrayList&lt;Match&gt;();</span><br><span class="line">        <span class="keyword">String</span>[] regEx = linuxPromptRegEx;</span><br><span class="line">        <span class="keyword">if</span> (regEx != <span class="keyword">null</span> &amp;&amp; regEx.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (regEx) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">String</span> regexElement : regEx) &#123;<span class="comment">// list of regx like, :&gt;, /&gt;</span></span><br><span class="line">                    <span class="comment">// etc. it is possible</span></span><br><span class="line">                    <span class="comment">// command prompts of your</span></span><br><span class="line">                    <span class="comment">// remote machine</span></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        RegExpMatch mat = <span class="keyword">new</span> RegExpMatch(regexElement, closure);</span><br><span class="line">                        lstPattern.<span class="built_in">add</span>(mat);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (MalformedPatternException e) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                lstPattern.<span class="built_in">add</span>(<span class="keyword">new</span> EofMatch(<span class="keyword">new</span> Closure() &#123; <span class="comment">// should cause</span></span><br><span class="line">                    <span class="comment">// entire page to be</span></span><br><span class="line">                    <span class="comment">// collected</span></span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> run(ExpectState state) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;));</span><br><span class="line">                lstPattern.<span class="built_in">add</span>(<span class="keyword">new</span> TimeoutMatch(defaultTimeOut, <span class="keyword">new</span> Closure() &#123;</span><br><span class="line">                    <span class="keyword">public</span> <span class="keyword">void</span> run(ExpectState state) &#123;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">boolean</span> isSuccess = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">String</span> strCmd : commands) &#123;</span><br><span class="line">                isSuccess = isSuccess(lstPattern, strCmd);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//防止最后一个命令执行不了</span></span><br><span class="line">            isSuccess = !checkResult(expect.expect(lstPattern));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//找不到错误信息标示成功</span></span><br><span class="line">            <span class="keyword">String</span> response = buffer.toString().toLowerCase();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">String</span> msg : errorMsg) &#123;</span><br><span class="line">                <span class="keyword">if</span> (response.indexOf(msg) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> isSuccess;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//检查执行是否成功</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">boolean</span> isSuccess(List&lt;Match&gt; objPattern, <span class="keyword">String</span> strCommandPattern) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="built_in">boolean</span> isFailed = checkResult(expect.expect(objPattern));</span><br><span class="line">            <span class="keyword">if</span> (!isFailed) &#123;</span><br><span class="line">                expect.send(strCommandPattern);</span><br><span class="line">                expect.send(<span class="string">"\r"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MalformedPatternException ex) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;  <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//检查执行返回的状态</span></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">boolean</span> checkResult(<span class="built_in">int</span> intRetVal) &#123;</span><br><span class="line">        <span class="keyword">if</span> (intRetVal == COMMAND_EXECUTION_SUCCESS_OPCODE) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//登入SSH时的控制信息</span></span><br><span class="line">    <span class="comment">//设置不提示输入密码、不显示登入信息等</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> class localUserInfo implements UserInfo &#123;</span><br><span class="line">        <span class="keyword">String</span> passwd;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">String</span> getPassword() &#123;</span><br><span class="line">            <span class="keyword">return</span> passwd;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">boolean</span> promptYesNo(<span class="keyword">String</span> <span class="built_in">str</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">String</span> getPassphrase() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">boolean</span> promptPassphrase(<span class="keyword">String</span> message) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">boolean</span> promptPassword(<span class="keyword">String</span> message) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> showMessage(<span class="keyword">String</span> message) &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</span><br><span class="line">        <span class="keyword">String</span> ip = <span class="string">"xxx.xxx.xxx.xx"</span>;</span><br><span class="line">        <span class="built_in">int</span> port = <span class="number">22</span>;</span><br><span class="line">        <span class="keyword">String</span> user =<span class="string">"root"</span>;</span><br><span class="line">        <span class="keyword">String</span> password = <span class="string">"password"</span>;</span><br><span class="line">        <span class="keyword">String</span>[] cmd = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"cd /usr/local/mongodb/bin"</span>,<span class="string">"./mongo 10.117.27.133:30000"</span>&#125;;</span><br><span class="line">        <span class="comment">//String cmd1[] = &#123;"rs.status()"&#125;;</span></span><br><span class="line">        cmd = <span class="keyword">new</span> <span class="keyword">String</span>[]&#123;<span class="string">"ssh 10.117.27.133"</span>,<span class="string">"neiwang ssh密码"</span>,<span class="string">"ps aux|grep mongo"</span>,<span class="string">"ifconfig"</span>&#125;;</span><br><span class="line">        SshConnectTest ssh = <span class="keyword">new</span> SshConnectTest(ip,port,user,password);</span><br><span class="line">        <span class="comment">//SshConnectTest ssh1 = new SshConnectTest(ip,port,user,password);</span></span><br><span class="line">        ssh.executeCommands(cmd);</span><br><span class="line">        <span class="comment">//ssh.executeCommands(cmd1);</span></span><br><span class="line">        System.out.<span class="built_in">println</span>(ssh.getResponse());</span><br><span class="line">        ssh.disconnect();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>需要的jar</p>
<ol>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/com.jcraft.jsch_0.1.31.jar" title="com.jcraft.jsch_0.1.31.jar">com.jcraft.jsch_0.1.31.jar</a></li>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/expect4j-1.6.jar" title="expect4j-1.6.jar">expect4j-1.6.jar</a></li>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/jakarta-oro-2.0.8.jar" title="jakarta-oro-2.0.8.jar">jakarta-oro-2.0.8.jar</a></li>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/slf4j-api.jar" title="slf4j-api.jar">slf4j-api.jar</a></li>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/slf4j-jdk14.jar" title="slf4j-jdk14.jar">slf4j-jdk14.jar</a></li>
<li><a href="/2016/01/25/java-use-ssh-connact-linux/slf4j-log4j12.jar" title="slf4j-log4j12.jar">slf4j-log4j12.jar</a>
</li>
</ol>
]]></content>
    <summary type="html">
    <![CDATA[<p>直接上代码了<br>代码从网上获得,经过测试可以使用,可以测试连续多条shell命令,可以再ssh到别的机器上测试,效果还不错,可以用来检测mongo集群状态和启动、重启集群<br><figure class="highlight processing"><table><t]]>
    </summary>
    
      <category term="linux" scheme="http://chenbing8512.github.io/cbxjj/tags/linux/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="ssh" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/ssh/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用百度地图自定义一个区划的地图]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2016/01/12/use-baiduMap-and-echarts-establish-new-region-map/"/>
    <id>http://chenbing8512.github.io/cbxjj/2016/01/12/use-baiduMap-and-echarts-establish-new-region-map/</id>
    <published>2016-01-12T01:53:50.000Z</published>
    <updated>2016-01-20T03:43:39.103Z</updated>
    <content type="html"><![CDATA[<h2 id="u9700_u6C42"><a href="#u9700_u6C42" class="headerlink" title="需求"></a>需求</h2><p>最近需要试用echarts来展示某一个地级市的地形图,而echarts自带的行政区划只到市这一级,地级市属于区,没有现成的可以用,这里我介绍下我怎么试用baidu地图来绘制出符合echarts试用的行政区划文件<br>举例来说 这个地级市为孝义市<br>百度地图的显示地址为:<a href="http://developer.baidu.com/map/jsdemo.htm#c1_10" target="_blank" rel="external">地址</a><br><img src="/2016/01/12/use-baiduMap-and-echarts-establish-new-region-map/xiaoyi.png" alt="孝义地图" title="孝义地图"><br>可以看到只有孝义整个的区划,没有其子区划的分隔,baidu上搜了下孝义的地图,如下：<br><img src="/2016/01/12/use-baiduMap-and-echarts-establish-new-region-map/xiaoyi.jpg" alt="孝义地图" title="孝义地图"></p>
<h3 id="u81EA_u5DF1_u52FE_u753B_u533A_u57DF"><a href="#u81EA_u5DF1_u52FE_u753B_u533A_u57DF" class="headerlink" title="自己勾画区域"></a>自己勾画区域</h3><p>试用baidu地图自己勾画区域，获取到经纬度，将经纬度放入上方文本框中<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv="Content-Type" content="text/html<span class="comment">; charset=utf-8"/&gt;</span></span><br><span class="line">    &lt;meta name="viewport" content="initial-scale=1.0, user-scalable=no"/&gt;</span><br><span class="line">    &lt;style type="text/css"&gt;</span><br><span class="line">        body, html &#123;</span><br><span class="line">            width: 100%<span class="comment">;</span></span><br><span class="line">            height: 100%<span class="comment">;</span></span><br><span class="line">            overflow: hidden<span class="comment">;</span></span><br><span class="line">            margin: 0<span class="comment">;</span></span><br><span class="line">            font-family: "微软雅黑"<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&amp;ak=syIta7eq5Xiv5nNsE75RdGkG"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type="text/javascript" src="js/jquery-1.9.1.min.js"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;title&gt;添加行政区划&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;textarea rows="5" id="result" style="width: 98%<span class="comment">;margin: 10px 10px 0px 10px;"&gt;&lt;/textarea&gt;</span></span><br><span class="line">&lt;div id="allmap2" style="width: 98%<span class="comment">;float: left;height: 85%;margin: 10px;border: 1px #ac2925 solid"&gt;&lt;/div&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;script type="text/javascript"&gt;</span><br><span class="line">    var map2 = new BMap.Map("allmap2")<span class="comment">;</span></span><br><span class="line">    map2.centerAndZoom(new BMap.Point(<span class="number">111.672362</span>, <span class="number">37.102639</span>), 11)<span class="comment">;</span></span><br><span class="line">    map2.enableScrollWheelZoom()<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    var points = []<span class="comment">;</span></span><br><span class="line">    var polyline = new BMap.Polyline()<span class="comment">; //折线覆盖物&#123;strokeWeight: 2, strokeColor: "#ff0000"&#125;</span></span><br><span class="line">    polyline.setStrokeWeight(2)<span class="comment">;</span></span><br><span class="line">    polyline.setStrokeColor("#ff0000")<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    map2.addEventListener("click", function (e) &#123;</span><br><span class="line">        var res = $("#result").val()<span class="comment">;</span></span><br><span class="line">        var res1 = res + e.point.lng + "," + e.point.lat + "<span class="comment">;";</span></span><br><span class="line">        $("#result").val(res1)</span><br><span class="line">        newpoint = new BMap.Point(e.point.lng, e.point.lat)<span class="comment">;</span></span><br><span class="line">        points.push(newpoint)<span class="comment">;  //将新增的点放到数组中</span></span><br><span class="line">        polyline.setPath(points)<span class="comment">;   //设置折线的点数组</span></span><br><span class="line">        map2.addOverlay(polyline)<span class="comment">;   //将折线添加到地图上</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">    </span><br><span class="line">    var xyArr = "<span class="number">111.50644</span>, <span class="number">37.270021</span><span class="comment">;111.489594, 37.266414;111.485486, 37.268052;111.483065, 37.280673;111.467388, 37.283833;" +</span></span><br><span class="line">            "<span class="number">111.453649</span>, <span class="number">37.29288;111</span>.448358, <span class="number">37.302232;111</span>.446916, <span class="number">37.326658</span><span class="comment">;111.438001, 37.318073;111.425028, 37.323382;" +</span></span><br><span class="line">            "<span class="number">111.409035</span>, <span class="number">37.319653</span><span class="comment">;111.411707, 37.304795;111.418338, 37.299495;111.423903, 37.286033;111.424898, 37.272129;" +</span></span><br><span class="line">            "<span class="number">111.415724</span>, <span class="number">37.257491</span><span class="comment">;111.408361, 37.259852;111.396037, 37.251133;111.383799, 37.250549;111.38613, 37.238305;" +</span></span><br><span class="line">            "<span class="number">111.401748</span>, <span class="number">37.234704;111</span>.392326, <span class="number">37.219964;111</span>.384105, <span class="number">37.216414;111</span>.36827, <span class="number">37.21857;111</span>.364603, <span class="number">37.213064</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.381967</span>, <span class="number">37.196808;111</span>.393799, <span class="number">37.195308;111</span>.406873, <span class="number">37.16932;111</span>.42381, <span class="number">37.168103;111</span>.437145, <span class="number">37.163288</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.45944</span>, <span class="number">37.171815;111</span>.464281, <span class="number">37.171164;111</span>.470125, <span class="number">37.151095;111</span>.473209, <span class="number">37.148616;111</span>.478064, <span class="number">37.14973</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.477929</span>, <span class="number">37.147423;111</span>.474785, <span class="number">37.141413;111</span>.460728, <span class="number">37.136095;111</span>.458018, <span class="number">37.11834;111</span>.46343, <span class="number">37.111497</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.477304</span>, <span class="number">37.108283;111</span>.489447, <span class="number">37.083798</span><span class="comment">;111.490848, 37.071463;111.474686, 37.055899;111.462009, 37.05149;" +</span></span><br><span class="line">            "<span class="number">111.46009</span>, <span class="number">37.041957</span><span class="comment">;111.470846, 37.03666;111.481301, 37.020568;111.498234, 37.018393;111.49575, 37.002832;" +</span></span><br><span class="line">            "<span class="number">111.504163</span>, <span class="number">36.99725;111</span>.538619, <span class="number">37.004294</span><span class="comment">;111.540968, 37.003056;111.537489, 36.994992;111.539168, 36.989662;" +</span></span><br><span class="line">            "<span class="number">111.548164</span>, <span class="number">36.983635</span><span class="comment">;111.552625, 36.983007;111.559898, 36.988306;111.5955, 36.967672;111.610191, 36.967793;" +</span></span><br><span class="line">            "<span class="number">111.622047</span>, <span class="number">36.957983</span><span class="comment">;111.641272, 36.951816;111.649333, 36.968968;111.661864, 36.968559;111.671402, 36.978414;" +</span></span><br><span class="line">            "<span class="number">111.678667</span>, <span class="number">36.973315</span><span class="comment">;111.682547, 36.974531;111.687891, 36.981686;111.685087, 36.99308;111.696285, 37.001696;" +</span></span><br><span class="line">            "<span class="number">111.709946</span>, <span class="number">36.995851</span><span class="comment">;111.716893, 36.999647;111.728951, 36.996791;111.743866, 36.997432;111.746641, 36.998778;" +</span></span><br><span class="line">            "<span class="number">111.743589</span>, <span class="number">37.00385;111</span>.747455, <span class="number">37.01261;111</span>.769233, <span class="number">37.022524</span><span class="comment">;111.778302, 37.022367;111.798738, 37.028566;" +</span></span><br><span class="line">            "<span class="number">111.812193</span>, <span class="number">37.038069</span><span class="comment">;111.821773, 37.03865;111.831011, 37.044816;111.831328, 37.050226;111.839393, 37.049934;" +</span></span><br><span class="line">            "<span class="number">111.853188</span>, <span class="number">37.041558</span><span class="comment">;111.871383, 37.046132;111.868382, 37.057205;111.892187, 37.063028;111.901145, 37.080648;" +</span></span><br><span class="line">            "<span class="number">111.901638</span>, <span class="number">37.093324</span><span class="comment">;111.923863, 37.105023;111.941027, 37.156001;111.90566, 37.156258;111.902305, 37.168613;" +</span></span><br><span class="line">            "<span class="number">111.880747</span>, <span class="number">37.170542;111</span>.861019, <span class="number">37.180046;111</span>.848534, <span class="number">37.182757;111</span>.807912, <span class="number">37.185434;111</span>.79185, <span class="number">37.185184</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.781514</span>, <span class="number">37.176947;111</span>.751651, <span class="number">37.181751;111</span>.736147, <span class="number">37.178446;111</span>.709517, <span class="number">37.182394;111</span>.686488, <span class="number">37.172492</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.666707</span>, <span class="number">37.171301;111</span>.662166, <span class="number">37.182637;111</span>.643567, <span class="number">37.185722;111</span>.638444, <span class="number">37.189634;111</span>.633141, <span class="number">37.188846</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.628905</span>, <span class="number">37.194439;111</span>.612119, <span class="number">37.199817;111</span>.601636, <span class="number">37.216909;111</span>.587215, <span class="number">37.229057;111</span>.573886, <span class="number">37.232118</span><span class="comment">;" +</span></span><br><span class="line">            "<span class="number">111.556069</span>, <span class="number">37.227589;111</span>.542273, <span class="number">37.233957;111</span>.524241, <span class="number">37.252201;111</span>.514927, <span class="number">37.267738</span><span class="comment">;111.50644, 37.270021";</span></span><br><span class="line">    var pointArray = []<span class="comment">;</span></span><br><span class="line">    var ply = new BMap.Polygon(xyArr, &#123;strokeWeight: 2, strokeColor: "#ff0000"&#125;)<span class="comment">; //建立多边形覆盖物</span></span><br><span class="line">    map2.addOverlay(ply)<span class="comment">;  //添加覆盖物</span></span><br><span class="line">    pointArray = pointArray.concat(ply.getPath())<span class="comment">;</span></span><br><span class="line">    map2.setViewport(pointArray)<span class="comment">;    //调整视野</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>以上孝义的经纬读可以通过此<a href="http://developer.baidu.com/map/jsdemo.htm#c1_10" target="_blank" rel="external">地址</a>来获取</p>
<h3 id="u83B7_u53D6_u6BCF_u4E2A_u533A_u57DF_u7684_u7ECF_u7EAC_u5EA6"><a href="#u83B7_u53D6_u6BCF_u4E2A_u533A_u57DF_u7684_u7ECF_u7EAC_u5EA6" class="headerlink" title="获取每个区域的经纬度"></a>获取每个区域的经纬度</h3><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//国营林场</span><br><span class="line">var pointArray1 = []<span class="comment">;</span></span><br><span class="line">var qy1 =   "<span class="number">111.489594</span>,<span class="number">37.266417</span><span class="comment">;111.485658,37.266173;111.475597,37.261578;111.469273,37.264565;111.45562,37.281809;" +</span></span><br><span class="line">	        "<span class="number">111.440672</span>,<span class="number">37.290538</span><span class="comment">;111.433198,37.282269;111.441822,37.275377;111.45102,37.273999;111.452745,37.260673;" +</span></span><br><span class="line">	        "<span class="number">111.450446</span>,<span class="number">37.242289;111</span>.<span class="number">449871,37</span>.<span class="number">232176;111.45</span><span class="number">0301,37.221</span><span class="number">128;111.43779</span><span class="number">7,37.221602</span><span class="comment">;111.436073,37.216084;" +</span></span><br><span class="line">	        "<span class="number">111.430323</span>,<span class="number">37.212405;111</span>.<span class="number">426299,37</span>.<span class="number">208727;111.42</span><span class="number">1125,37.202</span><span class="number">748;111.42</span><span class="number">9174,37.196</span><span class="number">769;111.43</span><span class="number">2623,37.191</span>71<span class="comment">;" +</span></span><br><span class="line">	        "<span class="number">111.431904</span>,<span class="number">37.191236;111</span>.<span class="number">426299,37</span>.<span class="number">18435;111.41</span><span class="number">1351,37.183</span><span class="number">89;111.42270</span><span class="number">5,37.176055</span><span class="comment">;111.436863,37.163402;" +</span></span><br><span class="line">	        "<span class="number">111.423568</span>,<span class="number">37.168147;111</span>.<span class="number">40686,37.169</span><span class="number">326;111.39</span><span class="number">378,37.195</span><span class="number">375;111.38</span><span class="number">1887,37.196</span><span class="number">841;111.36</span><span class="number">4639,37.213</span>052<span class="comment">;" +</span></span><br><span class="line">	        "<span class="number">111.368304</span>,<span class="number">37.218627;111</span>.<span class="number">384079,37</span>.<span class="number">216443;111.39</span><span class="number">2307,37.219</span><span class="number">978;111.40</span><span class="number">1721,37.234</span><span class="number">719;111.38</span><span class="number">6091,37.238</span>339<span class="comment">;" +</span></span><br><span class="line">	        "<span class="number">111.383719</span>,<span class="number">37.250548;111</span>.<span class="number">395972,37</span>.<span class="number">251123;111.40</span><span class="number">8333,37.25</span><span class="number">9826;111.41</span><span class="number">5771,37.25</span><span class="number">7557;111.42</span><span class="number">4934,37.27</span>2175<span class="comment">;" +</span></span><br><span class="line">	        "<span class="number">111.423856</span>,<span class="number">37.285987</span><span class="comment">;111.418393,37.29948;111.411711,37.304791;111.409088,37.319687;111.424934,37.323418;" +</span></span><br><span class="line">	        "<span class="number">111.438013</span>,<span class="number">37.318137;111</span>.<span class="number">446888,37</span>.<span class="number">326603;111</span>.<span class="number">448326,37</span>.<span class="number">302408;111</span>.<span class="number">453463,37</span>.<span class="number">29305;111.46</span><span class="number">7406,37.28</span>3805<span class="comment">;" +</span></span><br><span class="line">	        "<span class="number">111.483036</span>,<span class="number">37.280704</span><span class="comment">;111.485488,37.268069";</span></span><br><span class="line">var ply1 = new BMap.Polygon(qy1, &#123;strokeWeight: 2, strokeColor: "#ff0000"&#125;)<span class="comment">; //建立多边形覆盖物</span></span><br><span class="line">//ply1.enableEditing()<span class="comment">;</span></span><br><span class="line">map2.addOverlay(ply1)<span class="comment">;  //添加覆盖物</span></span><br><span class="line">pointArray1 = pointArray1.concat(ply1.getPath())<span class="comment">;</span></span><br><span class="line">map2.setViewport(pointArray1)<span class="comment">;    //调整视野</span></span><br><span class="line">ply1.addEventListener("lineupdate", function () &#123;</span><br><span class="line">    $("#result").val(getStringFormPath(ply1.getPath()))<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>以上经纬度由自己勾画百度地图获取，肯定不够精确，但是够用了<br>孝义全图勾画如下：<br><img src="/2016/01/12/use-baiduMap-and-echarts-establish-new-region-map/xiaoyiquan.png" alt="孝义全图" title="孝义全图"></p>
<h3 id="u5236_u4F5Cecharts_u6240_u9700_u7684json_u6587_u4EF6"><a href="#u5236_u4F5Cecharts_u6240_u9700_u7684json_u6587_u4EF6" class="headerlink" title="制作echarts所需的json文件"></a>制作echarts所需的json文件</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"FeatureCollection"</span></span>,"<span class="attribute">features</span>":<span class="value">[&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"国营林场"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.489594</span>,<span class="number">37.266417</span>],[<span class="number">111.485658</span>,<span class="number">37.266173</span>],[<span class="number">111.475597</span>,<span class="number">37.261578</span>],[<span class="number">111.469273</span>,<span class="number">37.264565</span>],[<span class="number">111.45562</span>,<span class="number">37.281809</span>],[<span class="number">111.440672</span>,<span class="number">37.290538</span>],[<span class="number">111.433198</span>,<span class="number">37.282269</span>],[<span class="number">111.441822</span>,<span class="number">37.275377</span>],[<span class="number">111.45102</span>,<span class="number">37.273999</span>],[<span class="number">111.452745</span>,<span class="number">37.260673</span>],[<span class="number">111.450446</span>,<span class="number">37.242289</span>],[<span class="number">111.449871</span>,<span class="number">37.232176</span>],[<span class="number">111.450301</span>,<span class="number">37.221128</span>],[<span class="number">111.437797</span>,<span class="number">37.221602</span>],[<span class="number">111.436073</span>,<span class="number">37.216084</span>],[<span class="number">111.430323</span>,<span class="number">37.212405</span>],[<span class="number">111.426299</span>,<span class="number">37.208727</span>],[<span class="number">111.421125</span>,<span class="number">37.202748</span>],[<span class="number">111.429174</span>,<span class="number">37.196769</span>],[<span class="number">111.432623</span>,<span class="number">37.19171</span>],[<span class="number">111.431904</span>,<span class="number">37.191236</span>],[<span class="number">111.426299</span>,<span class="number">37.18435</span>],[<span class="number">111.411351</span>,<span class="number">37.18389</span>],[<span class="number">111.422705</span>,<span class="number">37.176055</span>],[<span class="number">111.436863</span>,<span class="number">37.163402</span>],[<span class="number">111.423568</span>,<span class="number">37.168147</span>],[<span class="number">111.40686</span>,<span class="number">37.169326</span>],[<span class="number">111.39378</span>,<span class="number">37.195375</span>],[<span class="number">111.381887</span>,<span class="number">37.196841</span>],[<span class="number">111.364639</span>,<span class="number">37.213052</span>],[<span class="number">111.368304</span>,<span class="number">37.218627</span>],[<span class="number">111.384079</span>,<span class="number">37.216443</span>],[<span class="number">111.392307</span>,<span class="number">37.219978</span>],[<span class="number">111.401721</span>,<span class="number">37.234719</span>],[<span class="number">111.386091</span>,<span class="number">37.238339</span>],[<span class="number">111.383719</span>,<span class="number">37.250548</span>],[<span class="number">111.395972</span>,<span class="number">37.251123</span>],[<span class="number">111.408333</span>,<span class="number">37.259826</span>],[<span class="number">111.415771</span>,<span class="number">37.257557</span>],[<span class="number">111.424934</span>,<span class="number">37.272175</span>],[<span class="number">111.423856</span>,<span class="number">37.285987</span>],[<span class="number">111.418393</span>,<span class="number">37.29948</span>],[<span class="number">111.411711</span>,<span class="number">37.304791</span>],[<span class="number">111.409088</span>,<span class="number">37.319687</span>],[<span class="number">111.424934</span>,<span class="number">37.323418</span>],[<span class="number">111.438013</span>,<span class="number">37.318137</span>],[<span class="number">111.446888</span>,<span class="number">37.326603</span>],[<span class="number">111.448326</span>,<span class="number">37.302408</span>],[<span class="number">111.453463</span>,<span class="number">37.29305</span>],[<span class="number">111.467406</span>,<span class="number">37.283805</span>],[<span class="number">111.483036</span>,<span class="number">37.280704</span>],[<span class="number">111.485488</span>,<span class="number">37.268069</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"杜村乡"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.601636</span>,<span class="number">37.216909</span>],[<span class="number">111.587215</span>,<span class="number">37.229057</span>],[<span class="number">111.573886</span>,<span class="number">37.232118</span>],[<span class="number">111.556069</span>,<span class="number">37.227589</span>],[<span class="number">111.542273</span>,<span class="number">37.233957</span>],[<span class="number">111.524241</span>,<span class="number">37.252201</span>],[<span class="number">111.514927</span>,<span class="number">37.267738</span>],[<span class="number">111.50644</span>,<span class="number">37.270021</span>],[<span class="number">111.489594</span>,<span class="number">37.266417</span>],[<span class="number">111.485658</span>,<span class="number">37.266173</span>],[<span class="number">111.475597</span>,<span class="number">37.261578</span>],[<span class="number">111.469273</span>,<span class="number">37.264565</span>],[<span class="number">111.45562</span>,<span class="number">37.281809</span>],[<span class="number">111.440672</span>,<span class="number">37.290538</span>],[<span class="number">111.433198</span>,<span class="number">37.282269</span>],[<span class="number">111.441822</span>,<span class="number">37.275377</span>],[<span class="number">111.45102</span>,<span class="number">37.273999</span>],[<span class="number">111.452745</span>,<span class="number">37.260673</span>],[<span class="number">111.450437</span>,<span class="number">37.242088</span>],[<span class="number">111.454757</span>,<span class="number">37.238842</span>],[<span class="number">111.461369</span>,<span class="number">37.233555</span>],[<span class="number">111.476604</span>,<span class="number">37.229188</span>],[<span class="number">111.479766</span>,<span class="number">37.220682</span>],[<span class="number">111.480916</span>,<span class="number">37.215394</span>],[<span class="number">111.494139</span>,<span class="number">37.211486</span>],[<span class="number">111.503338</span>,<span class="number">37.207117</span>],[<span class="number">111.5065</span>,<span class="number">37.204128</span>],[<span class="number">111.512536</span>,<span class="number">37.199759</span>],[<span class="number">111.52346</span>,<span class="number">37.196079</span>],[<span class="number">111.528347</span>,<span class="number">37.19263</span>],[<span class="number">111.54042</span>,<span class="number">37.1855</span>],[<span class="number">111.543582</span>,<span class="number">37.179289</span>],[<span class="number">111.547606</span>,<span class="number">37.177909</span>],[<span class="number">111.555655</span>,<span class="number">37.178369</span>],[<span class="number">111.563991</span>,<span class="number">37.1809</span>],[<span class="number">111.568016</span>,<span class="number">37.18343</span>],[<span class="number">111.569741</span>,<span class="number">37.19102</span>],[<span class="number">111.570028</span>,<span class="number">37.196309</span>],[<span class="number">111.573477</span>,<span class="number">37.199989</span>],[<span class="number">111.577502</span>,<span class="number">37.199069</span>],[<span class="number">111.582676</span>,<span class="number">37.198839</span>],[<span class="number">111.587563</span>,<span class="number">37.198609</span>],[<span class="number">111.591875</span>,<span class="number">37.198609</span>],[<span class="number">111.596187</span>,<span class="number">37.199299</span>],[<span class="number">111.604235</span>,<span class="number">37.200449</span>],[<span class="number">111.60711</span>,<span class="number">37.200449</span>],[<span class="number">111.611471</span>,<span class="number">37.200883</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"南阳乡"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.543582</span>,<span class="number">37.179289</span>],[<span class="number">111.54042</span>,<span class="number">37.1855</span>],[<span class="number">111.528347</span>,<span class="number">37.19263</span>],[<span class="number">111.52346</span>,<span class="number">37.196079</span>],[<span class="number">111.512536</span>,<span class="number">37.199759</span>],[<span class="number">111.5065</span>,<span class="number">37.204128</span>],[<span class="number">111.503338</span>,<span class="number">37.207117</span>],[<span class="number">111.494139</span>,<span class="number">37.211486</span>],[<span class="number">111.480916</span>,<span class="number">37.215394</span>],[<span class="number">111.479766</span>,<span class="number">37.220682</span>],[<span class="number">111.476604</span>,<span class="number">37.229188</span>],[<span class="number">111.461369</span>,<span class="number">37.233555</span>],[<span class="number">111.454757</span>,<span class="number">37.238842</span>],[<span class="number">111.450436</span>,<span class="number">37.242074</span>],[<span class="number">111.449871</span>,<span class="number">37.232176</span>],[<span class="number">111.450301</span>,<span class="number">37.221128</span>],[<span class="number">111.437797</span>,<span class="number">37.221602</span>],[<span class="number">111.436073</span>,<span class="number">37.216084</span>],[<span class="number">111.430323</span>,<span class="number">37.212405</span>],[<span class="number">111.426299</span>,<span class="number">37.208727</span>],[<span class="number">111.421125</span>,<span class="number">37.202748</span>],[<span class="number">111.429174</span>,<span class="number">37.196769</span>],[<span class="number">111.432623</span>,<span class="number">37.19171</span>],[<span class="number">111.431904</span>,<span class="number">37.191236</span>],[<span class="number">111.426299</span>,<span class="number">37.18435</span>],[<span class="number">111.411351</span>,<span class="number">37.18389</span>],[<span class="number">111.422705</span>,<span class="number">37.176055</span>],[<span class="number">111.436863</span>,<span class="number">37.163402</span>],[<span class="number">111.45944</span>,<span class="number">37.171815</span>],[<span class="number">111.464274</span>,<span class="number">37.171163</span>],[<span class="number">111.473581</span>,<span class="number">37.173467</span>],[<span class="number">111.476455</span>,<span class="number">37.171857</span>],[<span class="number">111.480192</span>,<span class="number">37.170016</span>],[<span class="number">111.484504</span>,<span class="number">37.168866</span>],[<span class="number">111.486804</span>,<span class="number">37.167946</span>],[<span class="number">111.492841</span>,<span class="number">37.164035</span>],[<span class="number">111.493703</span>,<span class="number">37.161044</span>],[<span class="number">111.497152</span>,<span class="number">37.156902</span>],[<span class="number">111.49974</span>,<span class="number">37.153221</span>],[<span class="number">111.503476</span>,<span class="number">37.15207</span>],[<span class="number">111.507213</span>,<span class="number">37.1523</span>],[<span class="number">111.51095</span>,<span class="number">37.153681</span>],[<span class="number">111.513825</span>,<span class="number">37.156212</span>],[<span class="number">111.5167</span>,<span class="number">37.158283</span>],[<span class="number">111.518999</span>,<span class="number">37.160583</span>],[<span class="number">111.518999</span>,<span class="number">37.163344</span>],[<span class="number">111.519574</span>,<span class="number">37.169556</span>],[<span class="number">111.522449</span>,<span class="number">37.171166</span>],[<span class="number">111.525898</span>,<span class="number">37.171166</span>],[<span class="number">111.529635</span>,<span class="number">37.170706</span>],[<span class="number">111.533947</span>,<span class="number">37.170706</span>],[<span class="number">111.540846</span>,<span class="number">37.170476</span>],[<span class="number">111.54487</span>,<span class="number">37.172087</span>],[<span class="number">111.546595</span>,<span class="number">37.175077</span>],[<span class="number">111.54717</span>,<span class="number">37.176745</span>],[<span class="number">111.547606</span>,<span class="number">37.177909</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"阳泉曲镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.513825</span>,<span class="number">37.156212</span>],[<span class="number">111.513825</span>,<span class="number">37.156212</span>],[<span class="number">111.51095</span>,<span class="number">37.153681</span>],[<span class="number">111.507213</span>,<span class="number">37.1523</span>],[<span class="number">111.503476</span>,<span class="number">37.15207</span>],[<span class="number">111.49974</span>,<span class="number">37.153221</span>],[<span class="number">111.497152</span>,<span class="number">37.156902</span>],[<span class="number">111.493703</span>,<span class="number">37.161044</span>],[<span class="number">111.492841</span>,<span class="number">37.164035</span>],[<span class="number">111.486804</span>,<span class="number">37.167946</span>],[<span class="number">111.484504</span>,<span class="number">37.168866</span>],[<span class="number">111.480192</span>,<span class="number">37.170016</span>],[<span class="number">111.476455</span>,<span class="number">37.171857</span>],[<span class="number">111.473581</span>,<span class="number">37.173467</span>],[<span class="number">111.464281</span>,<span class="number">37.171164</span>],[<span class="number">111.470125</span>,<span class="number">37.151095</span>],[<span class="number">111.473209</span>,<span class="number">37.148616</span>],[<span class="number">111.478064</span>,<span class="number">37.14973</span>],[<span class="number">111.477929</span>,<span class="number">37.147423</span>],[<span class="number">111.474785</span>,<span class="number">37.141413</span>],[<span class="number">111.460728</span>,<span class="number">37.136095</span>],[<span class="number">111.458018</span>,<span class="number">37.11834</span>],[<span class="number">111.46343</span>,<span class="number">37.111497</span>],[<span class="number">111.477304</span>,<span class="number">37.108283</span>],[<span class="number">111.489447</span>,<span class="number">37.083798</span>],[<span class="number">111.48944</span>,<span class="number">37.083798</span>],[<span class="number">111.513776</span>,<span class="number">37.077961</span>],[<span class="number">111.523549</span>,<span class="number">37.078882</span>],[<span class="number">111.528148</span>,<span class="number">37.079343</span>],[<span class="number">111.532748</span>,<span class="number">37.074736</span>],[<span class="number">111.537922</span>,<span class="number">37.068747</span>],[<span class="number">111.540222</span>,<span class="number">37.0646</span>],[<span class="number">111.547696</span>,<span class="number">37.06414</span>],[<span class="number">111.549995</span>,<span class="number">37.063218</span>],[<span class="number">111.556894</span>,<span class="number">37.059071</span>],[<span class="number">111.558619</span>,<span class="number">37.054002</span>],[<span class="number">111.566668</span>,<span class="number">37.055846</span>],[<span class="number">111.574142</span>,<span class="number">37.056306</span>],[<span class="number">111.581041</span>,<span class="number">37.056306</span>],[<span class="number">111.585065</span>,<span class="number">37.05815</span>],[<span class="number">111.588515</span>,<span class="number">37.055385</span>],[<span class="number">111.588515</span>,<span class="number">37.054924</span>],[<span class="number">111.591964</span>,<span class="number">37.056306</span>],[<span class="number">111.599438</span>,<span class="number">37.05815</span>],[<span class="number">111.602313</span>,<span class="number">37.061375</span>],[<span class="number">111.605762</span>,<span class="number">37.066904</span>],[<span class="number">111.606912</span>,<span class="number">37.072893</span>],[<span class="number">111.606912</span>,<span class="number">37.07704</span>],[<span class="number">111.605762</span>,<span class="number">37.083028</span>],[<span class="number">111.605187</span>,<span class="number">37.086713</span>],[<span class="number">111.600588</span>,<span class="number">37.089937</span>],[<span class="number">111.582765</span>,<span class="number">37.091319</span>],[<span class="number">111.580466</span>,<span class="number">37.095004</span>],[<span class="number">111.575866</span>,<span class="number">37.097767</span>],[<span class="number">111.566668</span>,<span class="number">37.101912</span>],[<span class="number">111.562643</span>,<span class="number">37.106977</span>],[<span class="number">111.562068</span>,<span class="number">37.113424</span>],[<span class="number">111.559769</span>,<span class="number">37.12033</span>],[<span class="number">111.558619</span>,<span class="number">37.125395</span>],[<span class="number">111.549995</span>,<span class="number">37.1323</span>],[<span class="number">111.543671</span>,<span class="number">37.134602</span>],[<span class="number">111.533898</span>,<span class="number">37.140585</span>],[<span class="number">111.528148</span>,<span class="number">37.146109</span>],[<span class="number">111.523549</span>,<span class="number">37.150711</span>],[<span class="number">111.521249</span>,<span class="number">37.154393</span>],[<span class="number">111.519201</span>,<span class="number">37.157369</span>],[<span class="number">111.517009</span>,<span class="number">37.158117</span>],[<span class="number">111.516695</span>,<span class="number">37.158286</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"下堡镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.52805</span>,<span class="number">37.146188</span>],[<span class="number">111.548387</span>,<span class="number">37.143196</span>],[<span class="number">111.556436</span>,<span class="number">37.143656</span>],[<span class="number">111.561035</span>,<span class="number">37.147338</span>],[<span class="number">111.562185</span>,<span class="number">37.1501</span>],[<span class="number">111.56391</span>,<span class="number">37.153781</span>],[<span class="number">111.569084</span>,<span class="number">37.153781</span>],[<span class="number">111.573109</span>,<span class="number">37.15056</span>],[<span class="number">111.574833</span>,<span class="number">37.147338</span>],[<span class="number">111.575983</span>,<span class="number">37.144117</span>],[<span class="number">111.580583</span>,<span class="number">37.140434</span>],[<span class="number">111.584607</span>,<span class="number">37.139514</span>],[<span class="number">111.589781</span>,<span class="number">37.139514</span>],[<span class="number">111.593231</span>,<span class="number">37.139974</span>],[<span class="number">111.60013</span>,<span class="number">37.138593</span>],[<span class="number">111.603004</span>,<span class="number">37.136292</span>],[<span class="number">111.612203</span>,<span class="number">37.13353</span>],[<span class="number">111.620252</span>,<span class="number">37.131689</span>],[<span class="number">111.625426</span>,<span class="number">37.130768</span>],[<span class="number">111.627726</span>,<span class="number">37.130307</span>],[<span class="number">111.639224</span>,<span class="number">37.127545</span>],[<span class="number">111.642673</span>,<span class="number">37.128006</span>],[<span class="number">111.646698</span>,<span class="number">37.128926</span>],[<span class="number">111.650147</span>,<span class="number">37.130307</span>],[<span class="number">111.654747</span>,<span class="number">37.13307</span>],[<span class="number">111.657046</span>,<span class="number">37.134911</span>],[<span class="number">111.661646</span>,<span class="number">37.139054</span>],[<span class="number">111.661071</span>,<span class="number">37.142276</span>],[<span class="number">111.659346</span>,<span class="number">37.15056</span>],[<span class="number">111.658196</span>,<span class="number">37.153321</span>],[<span class="number">111.654172</span>,<span class="number">37.154242</span>],[<span class="number">111.645548</span>,<span class="number">37.154702</span>],[<span class="number">111.643823</span>,<span class="number">37.156082</span>],[<span class="number">111.642098</span>,<span class="number">37.158843</span>],[<span class="number">111.643248</span>,<span class="number">37.162525</span>],[<span class="number">111.648997</span>,<span class="number">37.166206</span>],[<span class="number">111.653022</span>,<span class="number">37.168046</span>],[<span class="number">111.654172</span>,<span class="number">37.170807</span>],[<span class="number">111.654172</span>,<span class="number">37.173567</span>],[<span class="number">111.654172</span>,<span class="number">37.177708</span>],[<span class="number">111.6541</span>,<span class="number">37.179146</span>],[<span class="number">111.653884</span>,<span class="number">37.182193</span>],[<span class="number">111.653812</span>,<span class="number">37.183574</span>],[<span class="number">111.653758</span>,<span class="number">37.184034</span>],[<span class="number">111.643567</span>,<span class="number">37.185722</span>],[<span class="number">111.638444</span>,<span class="number">37.189634</span>],[<span class="number">111.633141</span>,<span class="number">37.188846</span>],[<span class="number">111.628905</span>,<span class="number">37.194439</span>],[<span class="number">111.612119</span>,<span class="number">37.199817</span>],[<span class="number">111.611471</span>,<span class="number">37.200883</span>],[<span class="number">111.60711</span>,<span class="number">37.200449</span>],[<span class="number">111.604235</span>,<span class="number">37.200449</span>],[<span class="number">111.596187</span>,<span class="number">37.199299</span>],[<span class="number">111.591875</span>,<span class="number">37.198609</span>],[<span class="number">111.587563</span>,<span class="number">37.198609</span>],[<span class="number">111.582676</span>,<span class="number">37.198839</span>],[<span class="number">111.577502</span>,<span class="number">37.199069</span>],[<span class="number">111.573477</span>,<span class="number">37.199989</span>],[<span class="number">111.570028</span>,<span class="number">37.196309</span>],[<span class="number">111.569741</span>,<span class="number">37.19102</span>],[<span class="number">111.568016</span>,<span class="number">37.18343</span>],[<span class="number">111.563991</span>,<span class="number">37.1809</span>],[<span class="number">111.555655</span>,<span class="number">37.178369</span>],[<span class="number">111.547606</span>,<span class="number">37.177909</span>],[<span class="number">111.54717</span>,<span class="number">37.176745</span>],[<span class="number">111.546595</span>,<span class="number">37.175077</span>],[<span class="number">111.54487</span>,<span class="number">37.172087</span>],[<span class="number">111.540846</span>,<span class="number">37.170476</span>],[<span class="number">111.533947</span>,<span class="number">37.170706</span>],[<span class="number">111.529635</span>,<span class="number">37.170706</span>],[<span class="number">111.525898</span>,<span class="number">37.171166</span>],[<span class="number">111.522449</span>,<span class="number">37.171166</span>],[<span class="number">111.519574</span>,<span class="number">37.169556</span>],[<span class="number">111.518999</span>,<span class="number">37.163344</span>],[<span class="number">111.518999</span>,<span class="number">37.160583</span>],[<span class="number">111.5167</span>,<span class="number">37.158283</span>],[<span class="number">111.517009</span>,<span class="number">37.158117</span>],[<span class="number">111.519201</span>,<span class="number">37.157369</span>],[<span class="number">111.521249</span>,<span class="number">37.154393</span>],[<span class="number">111.523549</span>,<span class="number">37.150711</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"高阳镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.654639</span>,<span class="number">37.133271</span>],[<span class="number">111.658232</span>,<span class="number">37.128552</span>],[<span class="number">111.661969</span>,<span class="number">37.128552</span>],[<span class="number">111.667143</span>,<span class="number">37.128322</span>],[<span class="number">111.668581</span>,<span class="number">37.126711</span>],[<span class="number">111.67318</span>,<span class="number">37.126711</span>],[<span class="number">111.676629</span>,<span class="number">37.128092</span>],[<span class="number">111.681516</span>,<span class="number">37.129243</span>],[<span class="number">111.685541</span>,<span class="number">37.129473</span>],[<span class="number">111.684391</span>,<span class="number">37.132695</span>],[<span class="number">111.69014</span>,<span class="number">37.135918</span>],[<span class="number">111.693877</span>,<span class="number">37.138219</span>],[<span class="number">111.698189</span>,<span class="number">37.140521</span>],[<span class="number">111.706237</span>,<span class="number">37.143512</span>],[<span class="number">111.709974</span>,<span class="number">37.147655</span>],[<span class="number">111.714574</span>,<span class="number">37.148575</span>],[<span class="number">111.722048</span>,<span class="number">37.148345</span>],[<span class="number">111.728947</span>,<span class="number">37.149956</span>],[<span class="number">111.732684</span>,<span class="number">37.145354</span>],[<span class="number">111.735846</span>,<span class="number">37.143052</span>],[<span class="number">111.736995</span>,<span class="number">37.140981</span>],[<span class="number">111.73987</span>,<span class="number">37.138449</span>],[<span class="number">111.745332</span>,<span class="number">37.141902</span>],[<span class="number">111.750219</span>,<span class="number">37.143743</span>],[<span class="number">111.753668</span>,<span class="number">37.143743</span>],[<span class="number">111.75683</span>,<span class="number">37.142592</span>],[<span class="number">111.758555</span>,<span class="number">37.140751</span>],[<span class="number">111.763154</span>,<span class="number">37.140291</span>],[<span class="number">111.767466</span>,<span class="number">37.145814</span>],[<span class="number">111.768616</span>,<span class="number">37.154328</span>],[<span class="number">111.767753</span>,<span class="number">37.15893</span>],[<span class="number">111.764591</span>,<span class="number">37.161921</span>],[<span class="number">111.758267</span>,<span class="number">37.164452</span>],[<span class="number">111.753381</span>,<span class="number">37.166522</span>],[<span class="number">111.753381</span>,<span class="number">37.171583</span>],[<span class="number">111.757405</span>,<span class="number">37.175264</span>],[<span class="number">111.760854</span>,<span class="number">37.175494</span>],[<span class="number">111.763729</span>,<span class="number">37.175494</span>],[<span class="number">111.765454</span>,<span class="number">37.177564</span>],[<span class="number">111.765813</span>,<span class="number">37.178599</span>],[<span class="number">111.765957</span>,<span class="number">37.179448</span>],[<span class="number">111.751651</span>,<span class="number">37.181751</span>],[<span class="number">111.736147</span>,<span class="number">37.178446</span>],[<span class="number">111.709517</span>,<span class="number">37.182394</span>],[<span class="number">111.686488</span>,<span class="number">37.172492</span>],[<span class="number">111.666707</span>,<span class="number">37.171301</span>],[<span class="number">111.662166</span>,<span class="number">37.182637</span>],[<span class="number">111.653758</span>,<span class="number">37.184034</span>],[<span class="number">111.653812</span>,<span class="number">37.183574</span>],[<span class="number">111.653884</span>,<span class="number">37.182193</span>],[<span class="number">111.6541</span>,<span class="number">37.179146</span>],[<span class="number">111.654172</span>,<span class="number">37.177708</span>],[<span class="number">111.654172</span>,<span class="number">37.173567</span>],[<span class="number">111.654172</span>,<span class="number">37.170807</span>],[<span class="number">111.653022</span>,<span class="number">37.168046</span>],[<span class="number">111.648997</span>,<span class="number">37.166206</span>],[<span class="number">111.643248</span>,<span class="number">37.162525</span>],[<span class="number">111.642098</span>,<span class="number">37.158843</span>],[<span class="number">111.643823</span>,<span class="number">37.156082</span>],[<span class="number">111.645548</span>,<span class="number">37.154702</span>],[<span class="number">111.654172</span>,<span class="number">37.154242</span>],[<span class="number">111.658196</span>,<span class="number">37.153321</span>],[<span class="number">111.659346</span>,<span class="number">37.15056</span>],[<span class="number">111.661071</span>,<span class="number">37.142276</span>],[<span class="number">111.661646</span>,<span class="number">37.139054</span>],[<span class="number">111.657046</span>,<span class="number">37.134911</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"城区"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.765957</span>,<span class="number">37.179448</span>],[<span class="number">111.765813</span>,<span class="number">37.178599</span>],[<span class="number">111.765454</span>,<span class="number">37.177564</span>],[<span class="number">111.763729</span>,<span class="number">37.175494</span>],[<span class="number">111.760854</span>,<span class="number">37.175494</span>],[<span class="number">111.757405</span>,<span class="number">37.175264</span>],[<span class="number">111.753381</span>,<span class="number">37.171583</span>],[<span class="number">111.753381</span>,<span class="number">37.166522</span>],[<span class="number">111.758267</span>,<span class="number">37.164452</span>],[<span class="number">111.764591</span>,<span class="number">37.161921</span>],[<span class="number">111.767753</span>,<span class="number">37.15893</span>],[<span class="number">111.768616</span>,<span class="number">37.154328</span>],[<span class="number">111.767466</span>,<span class="number">37.145814</span>],[<span class="number">111.774078</span>,<span class="number">37.14311</span>],[<span class="number">111.778677</span>,<span class="number">37.138795</span>],[<span class="number">111.779827</span>,<span class="number">37.133271</span>],[<span class="number">111.779827</span>,<span class="number">37.130509</span>],[<span class="number">111.779827</span>,<span class="number">37.126366</span>],[<span class="number">111.779827</span>,<span class="number">37.123143</span>],[<span class="number">111.779827</span>,<span class="number">37.11946</span>],[<span class="number">111.783276</span>,<span class="number">37.117158</span>],[<span class="number">111.789025</span>,<span class="number">37.115776</span>],[<span class="number">111.794774</span>,<span class="number">37.116697</span>],[<span class="number">111.798224</span>,<span class="number">37.118079</span>],[<span class="number">111.801673</span>,<span class="number">37.122222</span>],[<span class="number">111.804548</span>,<span class="number">37.124524</span>],[<span class="number">111.806848</span>,<span class="number">37.125905</span>],[<span class="number">111.809722</span>,<span class="number">37.125905</span>],[<span class="number">111.816334</span>,<span class="number">37.125905</span>],[<span class="number">111.818346</span>,<span class="number">37.125445</span>],[<span class="number">111.82467</span>,<span class="number">37.123834</span>],[<span class="number">111.827545</span>,<span class="number">37.122913</span>],[<span class="number">111.833006</span>,<span class="number">37.123143</span>],[<span class="number">111.836168</span>,<span class="number">37.124524</span>],[<span class="number">111.838468</span>,<span class="number">37.126135</span>],[<span class="number">111.84048</span>,<span class="number">37.128667</span>],[<span class="number">111.843642</span>,<span class="number">37.13235</span>],[<span class="number">111.844505</span>,<span class="number">37.135573</span>],[<span class="number">111.843067</span>,<span class="number">37.139025</span>],[<span class="number">111.843067</span>,<span class="number">37.141786</span>],[<span class="number">111.844505</span>,<span class="number">37.144088</span>],[<span class="number">111.846804</span>,<span class="number">37.145699</span>],[<span class="number">111.847954</span>,<span class="number">37.14777</span>],[<span class="number">111.847379</span>,<span class="number">37.150301</span>],[<span class="number">111.849679</span>,<span class="number">37.152142</span>],[<span class="number">111.853703</span>,<span class="number">37.153523</span>],[<span class="number">111.85744</span>,<span class="number">37.153753</span>],[<span class="number">111.86204</span>,<span class="number">37.154213</span>],[<span class="number">111.865489</span>,<span class="number">37.155593</span>],[<span class="number">111.872963</span>,<span class="number">37.156054</span>],[<span class="number">111.881299</span>,<span class="number">37.156284</span>],[<span class="number">111.885899</span>,<span class="number">37.156744</span>],[<span class="number">111.891935</span>,<span class="number">37.157204</span>],[<span class="number">111.89596</span>,<span class="number">37.160195</span>],[<span class="number">111.900846</span>,<span class="number">37.163416</span>],[<span class="number">111.902284</span>,<span class="number">37.168607</span>],[<span class="number">111.880747</span>,<span class="number">37.170542</span>],[<span class="number">111.861019</span>,<span class="number">37.180046</span>],[<span class="number">111.848534</span>,<span class="number">37.182757</span>],[<span class="number">111.807912</span>,<span class="number">37.185434</span>],[<span class="number">111.79185</span>,<span class="number">37.185184</span>],[<span class="number">111.781514</span>,<span class="number">37.176947</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"大孝堡乡"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.82754</span>,<span class="number">37.122916</span>],[<span class="number">111.833864</span>,<span class="number">37.11601</span>],[<span class="number">111.833577</span>,<span class="number">37.114168</span>],[<span class="number">111.831852</span>,<span class="number">37.110945</span>],[<span class="number">111.83214</span>,<span class="number">37.108182</span>],[<span class="number">111.833002</span>,<span class="number">37.104959</span>],[<span class="number">111.835014</span>,<span class="number">37.104038</span>],[<span class="number">111.837889</span>,<span class="number">37.102426</span>],[<span class="number">111.845937</span>,<span class="number">37.101966</span>],[<span class="number">111.851112</span>,<span class="number">37.099433</span>],[<span class="number">111.851399</span>,<span class="number">37.09713</span>],[<span class="number">111.851112</span>,<span class="number">37.094827</span>],[<span class="number">111.850824</span>,<span class="number">37.091373</span>],[<span class="number">111.848525</span>,<span class="number">37.087228</span>],[<span class="number">111.84795</span>,<span class="number">37.084003</span>],[<span class="number">111.851399</span>,<span class="number">37.08193</span>],[<span class="number">111.854561</span>,<span class="number">37.075251</span>],[<span class="number">111.854561</span>,<span class="number">37.071565</span>],[<span class="number">111.853124</span>,<span class="number">37.069262</span>],[<span class="number">111.855711</span>,<span class="number">37.065576</span>],[<span class="number">111.860598</span>,<span class="number">37.061199</span>],[<span class="number">111.865485</span>,<span class="number">37.059125</span>],[<span class="number">111.868382</span>,<span class="number">37.057205</span>],[<span class="number">111.892187</span>,<span class="number">37.063028</span>],[<span class="number">111.901145</span>,<span class="number">37.080648</span>],[<span class="number">111.901638</span>,<span class="number">37.093324</span>],[<span class="number">111.923863</span>,<span class="number">37.105023</span>],[<span class="number">111.941027</span>,<span class="number">37.156001</span>],[<span class="number">111.90566</span>,<span class="number">37.156258</span>],[<span class="number">111.902305</span>,<span class="number">37.168613</span>],[<span class="number">111.900846</span>,<span class="number">37.163416</span>],[<span class="number">111.89596</span>,<span class="number">37.160195</span>],[<span class="number">111.891935</span>,<span class="number">37.157204</span>],[<span class="number">111.885899</span>,<span class="number">37.156744</span>],[<span class="number">111.881299</span>,<span class="number">37.156284</span>],[<span class="number">111.872963</span>,<span class="number">37.156054</span>],[<span class="number">111.865489</span>,<span class="number">37.155593</span>],[<span class="number">111.86204</span>,<span class="number">37.154213</span>],[<span class="number">111.85744</span>,<span class="number">37.153753</span>],[<span class="number">111.853703</span>,<span class="number">37.153523</span>],[<span class="number">111.849679</span>,<span class="number">37.152142</span>],[<span class="number">111.847379</span>,<span class="number">37.150301</span>],[<span class="number">111.847954</span>,<span class="number">37.14777</span>],[<span class="number">111.846804</span>,<span class="number">37.145699</span>],[<span class="number">111.844505</span>,<span class="number">37.144088</span>],[<span class="number">111.843067</span>,<span class="number">37.141786</span>],[<span class="number">111.843067</span>,<span class="number">37.139025</span>],[<span class="number">111.844505</span>,<span class="number">37.135573</span>],[<span class="number">111.843642</span>,<span class="number">37.13235</span>],[<span class="number">111.84048</span>,<span class="number">37.128667</span>],[<span class="number">111.838468</span>,<span class="number">37.126135</span>],[<span class="number">111.836168</span>,<span class="number">37.124524</span>],[<span class="number">111.833006</span>,<span class="number">37.123143</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"梧桐镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.82467</span>,<span class="number">37.123834</span>],[<span class="number">111.818346</span>,<span class="number">37.125445</span>],[<span class="number">111.816334</span>,<span class="number">37.125905</span>],[<span class="number">111.809722</span>,<span class="number">37.125905</span>],[<span class="number">111.806848</span>,<span class="number">37.125905</span>],[<span class="number">111.804548</span>,<span class="number">37.124524</span>],[<span class="number">111.801673</span>,<span class="number">37.122222</span>],[<span class="number">111.798224</span>,<span class="number">37.118079</span>],[<span class="number">111.794774</span>,<span class="number">37.116697</span>],[<span class="number">111.789025</span>,<span class="number">37.115776</span>],[<span class="number">111.783276</span>,<span class="number">37.117158</span>],[<span class="number">111.779822</span>,<span class="number">37.11946</span>],[<span class="number">111.776139</span>,<span class="number">37.108373</span>],[<span class="number">111.772977</span>,<span class="number">37.102617</span>],[<span class="number">111.773839</span>,<span class="number">37.097551</span>],[<span class="number">111.776714</span>,<span class="number">37.091564</span>],[<span class="number">111.773839</span>,<span class="number">37.0888</span>],[<span class="number">111.776139</span>,<span class="number">37.081661</span>],[<span class="number">111.782176</span>,<span class="number">37.080739</span>],[<span class="number">111.789937</span>,<span class="number">37.083503</span>],[<span class="number">111.791949</span>,<span class="number">37.086037</span>],[<span class="number">111.795111</span>,<span class="number">37.089721</span>],[<span class="number">111.802585</span>,<span class="number">37.089952</span>],[<span class="number">111.808622</span>,<span class="number">37.086727</span>],[<span class="number">111.809772</span>,<span class="number">37.081661</span>],[<span class="number">111.809197</span>,<span class="number">37.077515</span>],[<span class="number">111.809484</span>,<span class="number">37.072908</span>],[<span class="number">111.810634</span>,<span class="number">37.069222</span>],[<span class="number">111.812071</span>,<span class="number">37.059316</span>],[<span class="number">111.815808</span>,<span class="number">37.056551</span>],[<span class="number">111.821557</span>,<span class="number">37.052634</span>],[<span class="number">111.826157</span>,<span class="number">37.051713</span>],[<span class="number">111.831295</span>,<span class="number">37.050215</span>],[<span class="number">111.839393</span>,<span class="number">37.049934</span>],[<span class="number">111.853188</span>,<span class="number">37.041558</span>],[<span class="number">111.871383</span>,<span class="number">37.046132</span>],[<span class="number">111.868382</span>,<span class="number">37.057205</span>],[<span class="number">111.868377</span>,<span class="number">37.057206</span>],[<span class="number">111.865485</span>,<span class="number">37.059125</span>],[<span class="number">111.860598</span>,<span class="number">37.061199</span>],[<span class="number">111.855711</span>,<span class="number">37.065576</span>],[<span class="number">111.853124</span>,<span class="number">37.069262</span>],[<span class="number">111.854561</span>,<span class="number">37.071565</span>],[<span class="number">111.854561</span>,<span class="number">37.075251</span>],[<span class="number">111.851399</span>,<span class="number">37.08193</span>],[<span class="number">111.84795</span>,<span class="number">37.084003</span>],[<span class="number">111.848525</span>,<span class="number">37.087228</span>],[<span class="number">111.850824</span>,<span class="number">37.091373</span>],[<span class="number">111.851112</span>,<span class="number">37.094827</span>],[<span class="number">111.851399</span>,<span class="number">37.09713</span>],[<span class="number">111.851112</span>,<span class="number">37.099433</span>],[<span class="number">111.845937</span>,<span class="number">37.101966</span>],[<span class="number">111.837889</span>,<span class="number">37.102426</span>],[<span class="number">111.835014</span>,<span class="number">37.104038</span>],[<span class="number">111.833002</span>,<span class="number">37.104959</span>],[<span class="number">111.83214</span>,<span class="number">37.108182</span>],[<span class="number">111.831852</span>,<span class="number">37.110945</span>],[<span class="number">111.833577</span>,<span class="number">37.114168</span>],[<span class="number">111.833864</span>,<span class="number">37.11601</span>],[<span class="number">111.82754</span>,<span class="number">37.122916</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"西辛庄镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.5955</span>,<span class="number">36.967672</span>],[<span class="number">111.559898</span>,<span class="number">36.988306</span>],[<span class="number">111.552625</span>,<span class="number">36.983007</span>],[<span class="number">111.548164</span>,<span class="number">36.983635</span>],[<span class="number">111.539168</span>,<span class="number">36.989662</span>],[<span class="number">111.537489</span>,<span class="number">36.994992</span>],[<span class="number">111.540968</span>,<span class="number">37.003056</span>],[<span class="number">111.538619</span>,<span class="number">37.004294</span>],[<span class="number">111.504163</span>,<span class="number">36.99725</span>],[<span class="number">111.49575</span>,<span class="number">37.002832</span>],[<span class="number">111.498234</span>,<span class="number">37.018393</span>],[<span class="number">111.481301</span>,<span class="number">37.020568</span>],[<span class="number">111.470846</span>,<span class="number">37.03666</span>],[<span class="number">111.46009</span>,<span class="number">37.041957</span>],[<span class="number">111.462009</span>,<span class="number">37.05149</span>],[<span class="number">111.474686</span>,<span class="number">37.055899</span>],[<span class="number">111.490848</span>,<span class="number">37.071463</span>],[<span class="number">111.489447</span>,<span class="number">37.083798</span>],[<span class="number">111.48944</span>,<span class="number">37.083798</span>],[<span class="number">111.513776</span>,<span class="number">37.077961</span>],[<span class="number">111.523549</span>,<span class="number">37.078882</span>],[<span class="number">111.528148</span>,<span class="number">37.079343</span>],[<span class="number">111.532748</span>,<span class="number">37.074736</span>],[<span class="number">111.537922</span>,<span class="number">37.068747</span>],[<span class="number">111.540222</span>,<span class="number">37.0646</span>],[<span class="number">111.547696</span>,<span class="number">37.06414</span>],[<span class="number">111.549995</span>,<span class="number">37.063218</span>],[<span class="number">111.556894</span>,<span class="number">37.059071</span>],[<span class="number">111.558619</span>,<span class="number">37.054002</span>],[<span class="number">111.566668</span>,<span class="number">37.055846</span>],[<span class="number">111.574142</span>,<span class="number">37.056306</span>],[<span class="number">111.581041</span>,<span class="number">37.056306</span>],[<span class="number">111.585065</span>,<span class="number">37.05815</span>],[<span class="number">111.588515</span>,<span class="number">37.055385</span>],[<span class="number">111.588515</span>,<span class="number">37.054928</span>],[<span class="number">111.584153</span>,<span class="number">37.044832</span>],[<span class="number">111.592202</span>,<span class="number">37.036075</span>],[<span class="number">111.599101</span>,<span class="number">37.035154</span>],[<span class="number">111.606575</span>,<span class="number">37.033771</span>],[<span class="number">111.611749</span>,<span class="number">37.031927</span>],[<span class="number">111.612899</span>,<span class="number">37.0287</span>],[<span class="number">111.615199</span>,<span class="number">37.023168</span>],[<span class="number">111.616923</span>,<span class="number">37.018558</span>],[<span class="number">111.617498</span>,<span class="number">37.012565</span>],[<span class="number">111.619798</span>,<span class="number">37.011643</span>],[<span class="number">111.627272</span>,<span class="number">37.009337</span>],[<span class="number">111.633021</span>,<span class="number">37.003804</span>],[<span class="number">111.632446</span>,<span class="number">36.996426</span>],[<span class="number">111.630147</span>,<span class="number">36.990891</span>],[<span class="number">111.624397</span>,<span class="number">36.985818</span>],[<span class="number">111.615774</span>,<span class="number">36.980744</span>],[<span class="number">111.614049</span>,<span class="number">36.977054</span>],[<span class="number">111.612899</span>,<span class="number">36.973364</span>],[<span class="number">111.611749</span>,<span class="number">36.97074</span>],[<span class="number">111.610195</span>,<span class="number">36.967792</span>],[<span class="number">111.6102</span>,<span class="number">36.967781</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"兑镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.654747</span>,<span class="number">37.13307</span>],[<span class="number">111.650147</span>,<span class="number">37.130307</span>],[<span class="number">111.646698</span>,<span class="number">37.128926</span>],[<span class="number">111.642673</span>,<span class="number">37.128006</span>],[<span class="number">111.639224</span>,<span class="number">37.127545</span>],[<span class="number">111.627726</span>,<span class="number">37.130307</span>],[<span class="number">111.625426</span>,<span class="number">37.130768</span>],[<span class="number">111.620252</span>,<span class="number">37.131689</span>],[<span class="number">111.612203</span>,<span class="number">37.13353</span>],[<span class="number">111.603004</span>,<span class="number">37.136292</span>],[<span class="number">111.60013</span>,<span class="number">37.138593</span>],[<span class="number">111.593231</span>,<span class="number">37.139974</span>],[<span class="number">111.589781</span>,<span class="number">37.139514</span>],[<span class="number">111.584607</span>,<span class="number">37.139514</span>],[<span class="number">111.580583</span>,<span class="number">37.140434</span>],[<span class="number">111.575983</span>,<span class="number">37.144117</span>],[<span class="number">111.574833</span>,<span class="number">37.147338</span>],[<span class="number">111.573109</span>,<span class="number">37.15056</span>],[<span class="number">111.569084</span>,<span class="number">37.153781</span>],[<span class="number">111.56391</span>,<span class="number">37.153781</span>],[<span class="number">111.562185</span>,<span class="number">37.1501</span>],[<span class="number">111.561035</span>,<span class="number">37.147338</span>],[<span class="number">111.556436</span>,<span class="number">37.143656</span>],[<span class="number">111.548387</span>,<span class="number">37.143196</span>],[<span class="number">111.52805</span>,<span class="number">37.146188</span>],[<span class="number">111.528148</span>,<span class="number">37.146109</span>],[<span class="number">111.533898</span>,<span class="number">37.140585</span>],[<span class="number">111.543671</span>,<span class="number">37.134602</span>],[<span class="number">111.549995</span>,<span class="number">37.1323</span>],[<span class="number">111.558619</span>,<span class="number">37.125395</span>],[<span class="number">111.559769</span>,<span class="number">37.12033</span>],[<span class="number">111.562068</span>,<span class="number">37.113424</span>],[<span class="number">111.562643</span>,<span class="number">37.106977</span>],[<span class="number">111.566668</span>,<span class="number">37.101912</span>],[<span class="number">111.575866</span>,<span class="number">37.097767</span>],[<span class="number">111.580466</span>,<span class="number">37.095004</span>],[<span class="number">111.582765</span>,<span class="number">37.091319</span>],[<span class="number">111.600588</span>,<span class="number">37.089937</span>],[<span class="number">111.605187</span>,<span class="number">37.086713</span>],[<span class="number">111.612441</span>,<span class="number">37.088739</span>],[<span class="number">111.621065</span>,<span class="number">37.088509</span>],[<span class="number">111.625377</span>,<span class="number">37.085054</span>],[<span class="number">111.630263</span>,<span class="number">37.080448</span>],[<span class="number">111.633138</span>,<span class="number">37.080678</span>],[<span class="number">111.636587</span>,<span class="number">37.082521</span>],[<span class="number">111.640037</span>,<span class="number">37.085745</span>],[<span class="number">111.641762</span>,<span class="number">37.088969</span>],[<span class="number">111.644061</span>,<span class="number">37.091733</span>],[<span class="number">111.648661</span>,<span class="number">37.090581</span>],[<span class="number">111.65096</span>,<span class="number">37.0892</span>],[<span class="number">111.65556</span>,<span class="number">37.088509</span>],[<span class="number">111.660159</span>,<span class="number">37.091503</span>],[<span class="number">111.663321</span>,<span class="number">37.093345</span>],[<span class="number">111.669358</span>,<span class="number">37.092884</span>],[<span class="number">111.672807</span>,<span class="number">37.087818</span>],[<span class="number">111.674819</span>,<span class="number">37.085515</span>],[<span class="number">111.672232</span>,<span class="number">37.084363</span>],[<span class="number">111.677119</span>,<span class="number">37.082751</span>],[<span class="number">111.682006</span>,<span class="number">37.085515</span>],[<span class="number">111.684305</span>,<span class="number">37.088739</span>],[<span class="number">111.686605</span>,<span class="number">37.090812</span>],[<span class="number">111.689767</span>,<span class="number">37.092424</span>],[<span class="number">111.692354</span>,<span class="number">37.091733</span>],[<span class="number">111.698391</span>,<span class="number">37.093805</span>],[<span class="number">111.703565</span>,<span class="number">37.099102</span>],[<span class="number">111.705865</span>,<span class="number">37.099102</span>],[<span class="number">111.707302</span>,<span class="number">37.099102</span>],[<span class="number">111.709027</span>,<span class="number">37.09772</span>],[<span class="number">111.713568</span>,<span class="number">37.097932</span>],[<span class="number">111.718311</span>,<span class="number">37.100005</span>],[<span class="number">111.722048</span>,<span class="number">37.101386</span>],[<span class="number">111.727078</span>,<span class="number">37.106682</span>],[<span class="number">111.727509</span>,<span class="number">37.10933</span>],[<span class="number">111.733259</span>,<span class="number">37.112668</span>],[<span class="number">111.737139</span>,<span class="number">37.112899</span>],[<span class="number">111.740014</span>,<span class="number">37.115316</span>],[<span class="number">111.744182</span>,<span class="number">37.118999</span>],[<span class="number">111.746769</span>,<span class="number">37.122337</span>],[<span class="number">111.750506</span>,<span class="number">37.127862</span>],[<span class="number">111.755105</span>,<span class="number">37.133501</span>],[<span class="number">111.763154</span>,<span class="number">37.140291</span>],[<span class="number">111.758555</span>,<span class="number">37.140751</span>],[<span class="number">111.75683</span>,<span class="number">37.142592</span>],[<span class="number">111.753668</span>,<span class="number">37.143743</span>],[<span class="number">111.750219</span>,<span class="number">37.143743</span>],[<span class="number">111.745332</span>,<span class="number">37.141902</span>],[<span class="number">111.73987</span>,<span class="number">37.138449</span>],[<span class="number">111.736995</span>,<span class="number">37.140981</span>],[<span class="number">111.735846</span>,<span class="number">37.143052</span>],[<span class="number">111.732684</span>,<span class="number">37.145354</span>],[<span class="number">111.728947</span>,<span class="number">37.149956</span>],[<span class="number">111.722048</span>,<span class="number">37.148345</span>],[<span class="number">111.714574</span>,<span class="number">37.148575</span>],[<span class="number">111.709974</span>,<span class="number">37.147655</span>],[<span class="number">111.706237</span>,<span class="number">37.143512</span>],[<span class="number">111.698189</span>,<span class="number">37.140521</span>],[<span class="number">111.693877</span>,<span class="number">37.138219</span>],[<span class="number">111.69014</span>,<span class="number">37.135918</span>],[<span class="number">111.684391</span>,<span class="number">37.132695</span>],[<span class="number">111.685541</span>,<span class="number">37.129473</span>],[<span class="number">111.681516</span>,<span class="number">37.129243</span>],[<span class="number">111.676629</span>,<span class="number">37.128092</span>],[<span class="number">111.67318</span>,<span class="number">37.126711</span>],[<span class="number">111.668581</span>,<span class="number">37.126711</span>],[<span class="number">111.667143</span>,<span class="number">37.128322</span>],[<span class="number">111.661969</span>,<span class="number">37.128552</span>],[<span class="number">111.658232</span>,<span class="number">37.128552</span>],[<span class="number">111.654639</span>,<span class="number">37.133271</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"柱濮镇"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.605187</span>,<span class="number">37.086713</span>],[<span class="number">111.605762</span>,<span class="number">37.083028</span>],[<span class="number">111.606912</span>,<span class="number">37.07704</span>],[<span class="number">111.606912</span>,<span class="number">37.072893</span>],[<span class="number">111.605762</span>,<span class="number">37.066904</span>],[<span class="number">111.602313</span>,<span class="number">37.061375</span>],[<span class="number">111.599438</span>,<span class="number">37.05815</span>],[<span class="number">111.591964</span>,<span class="number">37.056306</span>],[<span class="number">111.588515</span>,<span class="number">37.054928</span>],[<span class="number">111.584153</span>,<span class="number">37.044832</span>],[<span class="number">111.592202</span>,<span class="number">37.036075</span>],[<span class="number">111.599101</span>,<span class="number">37.035154</span>],[<span class="number">111.606575</span>,<span class="number">37.033771</span>],[<span class="number">111.611749</span>,<span class="number">37.031927</span>],[<span class="number">111.612899</span>,<span class="number">37.0287</span>],[<span class="number">111.615199</span>,<span class="number">37.023168</span>],[<span class="number">111.616923</span>,<span class="number">37.018558</span>],[<span class="number">111.617498</span>,<span class="number">37.012565</span>],[<span class="number">111.619798</span>,<span class="number">37.011643</span>],[<span class="number">111.627272</span>,<span class="number">37.009337</span>],[<span class="number">111.633021</span>,<span class="number">37.003804</span>],[<span class="number">111.637562</span>,<span class="number">37.009107</span>],[<span class="number">111.643311</span>,<span class="number">37.013717</span>],[<span class="number">111.650785</span>,<span class="number">37.014178</span>],[<span class="number">111.664008</span>,<span class="number">37.016023</span>],[<span class="number">111.673782</span>,<span class="number">37.020172</span>],[<span class="number">111.677231</span>,<span class="number">37.034001</span>],[<span class="number">111.680681</span>,<span class="number">37.03815</span>],[<span class="number">111.689304</span>,<span class="number">37.037228</span>],[<span class="number">111.694479</span>,<span class="number">37.036306</span>],[<span class="number">111.700228</span>,<span class="number">37.036767</span>],[<span class="number">111.701378</span>,<span class="number">37.039071</span>],[<span class="number">111.701378</span>,<span class="number">37.042298</span>],[<span class="number">111.703677</span>,<span class="number">37.044141</span>],[<span class="number">111.705977</span>,<span class="number">37.044141</span>],[<span class="number">111.707702</span>,<span class="number">37.039532</span>],[<span class="number">111.710001</span>,<span class="number">37.035384</span>],[<span class="number">111.715176</span>,<span class="number">37.033079</span>],[<span class="number">111.7192</span>,<span class="number">37.033079</span>],[<span class="number">111.724374</span>,<span class="number">37.034001</span>],[<span class="number">111.727249</span>,<span class="number">37.03861</span>],[<span class="number">111.728974</span>,<span class="number">37.044141</span>],[<span class="number">111.730123</span>,<span class="number">37.048289</span>],[<span class="number">111.734723</span>,<span class="number">37.05474</span>],[<span class="number">111.732998</span>,<span class="number">37.063495</span>],[<span class="number">111.722075</span>,<span class="number">37.077317</span>],[<span class="number">111.716325</span>,<span class="number">37.084226</span>],[<span class="number">111.708852</span>,<span class="number">37.087451</span>],[<span class="number">111.701953</span>,<span class="number">37.090214</span>],[<span class="number">111.698382</span>,<span class="number">37.093809</span>],[<span class="number">111.692354</span>,<span class="number">37.091733</span>],[<span class="number">111.689767</span>,<span class="number">37.092424</span>],[<span class="number">111.686605</span>,<span class="number">37.090812</span>],[<span class="number">111.684305</span>,<span class="number">37.088739</span>],[<span class="number">111.682006</span>,<span class="number">37.085515</span>],[<span class="number">111.677119</span>,<span class="number">37.082751</span>],[<span class="number">111.672232</span>,<span class="number">37.084363</span>],[<span class="number">111.674819</span>,<span class="number">37.085515</span>],[<span class="number">111.672807</span>,<span class="number">37.087818</span>],[<span class="number">111.669358</span>,<span class="number">37.092884</span>],[<span class="number">111.663321</span>,<span class="number">37.093345</span>],[<span class="number">111.660159</span>,<span class="number">37.091503</span>],[<span class="number">111.65556</span>,<span class="number">37.088509</span>],[<span class="number">111.65096</span>,<span class="number">37.0892</span>],[<span class="number">111.648661</span>,<span class="number">37.090581</span>],[<span class="number">111.644061</span>,<span class="number">37.091733</span>],[<span class="number">111.641762</span>,<span class="number">37.088969</span>],[<span class="number">111.640037</span>,<span class="number">37.085745</span>],[<span class="number">111.636587</span>,<span class="number">37.082521</span>],[<span class="number">111.633138</span>,<span class="number">37.080678</span>],[<span class="number">111.630263</span>,<span class="number">37.080448</span>],[<span class="number">111.625377</span>,<span class="number">37.085054</span>],[<span class="number">111.621065</span>,<span class="number">37.088509</span>],[<span class="number">111.612441</span>,<span class="number">37.088739</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"驿马乡"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.724374</span>,<span class="number">37.034001</span>],[<span class="number">111.7192</span>,<span class="number">37.033079</span>],[<span class="number">111.715176</span>,<span class="number">37.033079</span>],[<span class="number">111.710001</span>,<span class="number">37.035384</span>],[<span class="number">111.707702</span>,<span class="number">37.039532</span>],[<span class="number">111.705977</span>,<span class="number">37.044141</span>],[<span class="number">111.703677</span>,<span class="number">37.044141</span>],[<span class="number">111.701378</span>,<span class="number">37.042298</span>],[<span class="number">111.701378</span>,<span class="number">37.039071</span>],[<span class="number">111.700228</span>,<span class="number">37.036767</span>],[<span class="number">111.694479</span>,<span class="number">37.036306</span>],[<span class="number">111.689304</span>,<span class="number">37.037228</span>],[<span class="number">111.680681</span>,<span class="number">37.03815</span>],[<span class="number">111.677231</span>,<span class="number">37.034001</span>],[<span class="number">111.673782</span>,<span class="number">37.020172</span>],[<span class="number">111.664008</span>,<span class="number">37.016023</span>],[<span class="number">111.650785</span>,<span class="number">37.014178</span>],[<span class="number">111.643311</span>,<span class="number">37.013717</span>],[<span class="number">111.637562</span>,<span class="number">37.009107</span>],[<span class="number">111.633021</span>,<span class="number">37.003804</span>],[<span class="number">111.632446</span>,<span class="number">36.996426</span>],[<span class="number">111.630147</span>,<span class="number">36.990891</span>],[<span class="number">111.624397</span>,<span class="number">36.985818</span>],[<span class="number">111.615774</span>,<span class="number">36.980744</span>],[<span class="number">111.614049</span>,<span class="number">36.977054</span>],[<span class="number">111.612899</span>,<span class="number">36.973364</span>],[<span class="number">111.611749</span>,<span class="number">36.97074</span>],[<span class="number">111.610191</span>,<span class="number">36.967793</span>],[<span class="number">111.622047</span>,<span class="number">36.957983</span>],[<span class="number">111.641272</span>,<span class="number">36.951816</span>],[<span class="number">111.649333</span>,<span class="number">36.968968</span>],[<span class="number">111.661864</span>,<span class="number">36.968559</span>],[<span class="number">111.671402</span>,<span class="number">36.978414</span>],[<span class="number">111.678667</span>,<span class="number">36.973315</span>],[<span class="number">111.682547</span>,<span class="number">36.974531</span>],[<span class="number">111.687891</span>,<span class="number">36.981686</span>],[<span class="number">111.685087</span>,<span class="number">36.99308</span>],[<span class="number">111.696285</span>,<span class="number">37.001696</span>],[<span class="number">111.709946</span>,<span class="number">36.995851</span>],[<span class="number">111.716893</span>,<span class="number">36.999647</span>],[<span class="number">111.720323</span>,<span class="number">36.998821</span>],[<span class="number">111.716572</span>,<span class="number">37.002752</span>],[<span class="number">111.717147</span>,<span class="number">37.005749</span>],[<span class="number">111.71686</span>,<span class="number">37.008977</span>],[<span class="number">111.717435</span>,<span class="number">37.015662</span>],[<span class="number">111.71801</span>,<span class="number">37.01889</span>],[<span class="number">111.71916</span>,<span class="number">37.019581</span>],[<span class="number">111.720884</span>,<span class="number">37.020273</span>],[<span class="number">111.722897</span>,<span class="number">37.020964</span>],[<span class="number">111.723471</span>,<span class="number">37.022347</span>],[<span class="number">111.725484</span>,<span class="number">37.023039</span>],[<span class="number">111.730658</span>,<span class="number">37.02373</span>],[<span class="number">111.73037</span>,<span class="number">37.026496</span>],[<span class="number">111.730083</span>,<span class="number">37.02834</span>],[<span class="number">111.729508</span>,<span class="number">37.030645</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"下栅乡"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.776139</span>,<span class="number">37.081661</span>],[<span class="number">111.773839</span>,<span class="number">37.0888</span>],[<span class="number">111.776714</span>,<span class="number">37.091564</span>],[<span class="number">111.773839</span>,<span class="number">37.097551</span>],[<span class="number">111.772977</span>,<span class="number">37.102617</span>],[<span class="number">111.776139</span>,<span class="number">37.108373</span>],[<span class="number">111.779827</span>,<span class="number">37.11946</span>],[<span class="number">111.779827</span>,<span class="number">37.123143</span>],[<span class="number">111.779827</span>,<span class="number">37.126366</span>],[<span class="number">111.779827</span>,<span class="number">37.130509</span>],[<span class="number">111.779827</span>,<span class="number">37.133271</span>],[<span class="number">111.778677</span>,<span class="number">37.138795</span>],[<span class="number">111.774078</span>,<span class="number">37.14311</span>],[<span class="number">111.767466</span>,<span class="number">37.145814</span>],[<span class="number">111.763154</span>,<span class="number">37.140291</span>],[<span class="number">111.755105</span>,<span class="number">37.133501</span>],[<span class="number">111.750506</span>,<span class="number">37.127862</span>],[<span class="number">111.746769</span>,<span class="number">37.122337</span>],[<span class="number">111.744182</span>,<span class="number">37.118999</span>],[<span class="number">111.740014</span>,<span class="number">37.115316</span>],[<span class="number">111.737139</span>,<span class="number">37.112899</span>],[<span class="number">111.733259</span>,<span class="number">37.112668</span>],[<span class="number">111.727509</span>,<span class="number">37.10933</span>],[<span class="number">111.727078</span>,<span class="number">37.106682</span>],[<span class="number">111.722048</span>,<span class="number">37.101386</span>],[<span class="number">111.718311</span>,<span class="number">37.100005</span>],[<span class="number">111.713568</span>,<span class="number">37.097932</span>],[<span class="number">111.709027</span>,<span class="number">37.09772</span>],[<span class="number">111.707302</span>,<span class="number">37.099102</span>],[<span class="number">111.705865</span>,<span class="number">37.099102</span>],[<span class="number">111.703565</span>,<span class="number">37.099102</span>],[<span class="number">111.698382</span>,<span class="number">37.093809</span>],[<span class="number">111.701953</span>,<span class="number">37.090214</span>],[<span class="number">111.708852</span>,<span class="number">37.087451</span>],[<span class="number">111.716325</span>,<span class="number">37.084226</span>],[<span class="number">111.722075</span>,<span class="number">37.077317</span>],[<span class="number">111.732998</span>,<span class="number">37.063495</span>],[<span class="number">111.742192</span>,<span class="number">37.064971</span>],[<span class="number">111.745642</span>,<span class="number">37.065662</span>],[<span class="number">111.749666</span>,<span class="number">37.066814</span>],[<span class="number">111.753116</span>,<span class="number">37.069809</span>],[<span class="number">111.756565</span>,<span class="number">37.072343</span>],[<span class="number">111.763177</span>,<span class="number">37.073494</span>],[<span class="number">111.768351</span>,<span class="number">37.075337</span>],[<span class="number">111.772375</span>,<span class="number">37.079253</span>],[<span class="number">111.776139</span>,<span class="number">37.081661</span>]]]]</span>&#125;</span>&#125;,&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"Feature"</span></span>,"<span class="attribute">properties</span>":<span class="value">&#123;"<span class="attribute">name</span>":<span class="value"><span class="string">"东许办事处"</span></span>&#125;</span>,"<span class="attribute">geometry</span>":<span class="value">&#123;"<span class="attribute">type</span>":<span class="value"><span class="string">"MultiPolygon"</span></span>,"<span class="attribute">coordinates</span>":<span class="value">[[[[<span class="number">111.782176</span>,<span class="number">37.080739</span>],[<span class="number">111.789937</span>,<span class="number">37.083503</span>],[<span class="number">111.791949</span>,<span class="number">37.086037</span>],[<span class="number">111.795111</span>,<span class="number">37.089721</span>],[<span class="number">111.802585</span>,<span class="number">37.089952</span>],[<span class="number">111.808622</span>,<span class="number">37.086727</span>],[<span class="number">111.809772</span>,<span class="number">37.081661</span>],[<span class="number">111.809197</span>,<span class="number">37.077515</span>],[<span class="number">111.809484</span>,<span class="number">37.072908</span>],[<span class="number">111.810634</span>,<span class="number">37.069222</span>],[<span class="number">111.812071</span>,<span class="number">37.059316</span>],[<span class="number">111.815808</span>,<span class="number">37.056551</span>],[<span class="number">111.821557</span>,<span class="number">37.052634</span>],[<span class="number">111.826157</span>,<span class="number">37.051713</span>],[<span class="number">111.831328</span>,<span class="number">37.050226</span>],[<span class="number">111.831011</span>,<span class="number">37.044816</span>],[<span class="number">111.821773</span>,<span class="number">37.03865</span>],[<span class="number">111.812193</span>,<span class="number">37.038069</span>],[<span class="number">111.798738</span>,<span class="number">37.028566</span>],[<span class="number">111.778302</span>,<span class="number">37.022367</span>],[<span class="number">111.769233</span>,<span class="number">37.022524</span>],[<span class="number">111.747455</span>,<span class="number">37.01261</span>],[<span class="number">111.743589</span>,<span class="number">37.00385</span>],[<span class="number">111.746641</span>,<span class="number">36.998778</span>],[<span class="number">111.743866</span>,<span class="number">36.997432</span>],[<span class="number">111.728951</span>,<span class="number">36.996791</span>],[<span class="number">111.720323</span>,<span class="number">36.998821</span>],[<span class="number">111.716572</span>,<span class="number">37.002752</span>],[<span class="number">111.717147</span>,<span class="number">37.005749</span>],[<span class="number">111.71686</span>,<span class="number">37.008977</span>],[<span class="number">111.717435</span>,<span class="number">37.015662</span>],[<span class="number">111.71801</span>,<span class="number">37.01889</span>],[<span class="number">111.71916</span>,<span class="number">37.019581</span>],[<span class="number">111.720884</span>,<span class="number">37.020273</span>],[<span class="number">111.722897</span>,<span class="number">37.020964</span>],[<span class="number">111.723471</span>,<span class="number">37.022347</span>],[<span class="number">111.725484</span>,<span class="number">37.023039</span>],[<span class="number">111.730658</span>,<span class="number">37.02373</span>],[<span class="number">111.73037</span>,<span class="number">37.026496</span>],[<span class="number">111.730083</span>,<span class="number">37.02834</span>],[<span class="number">111.729508</span>,<span class="number">37.030645</span>],[<span class="number">111.724374</span>,<span class="number">37.034001</span>],[<span class="number">111.727249</span>,<span class="number">37.03861</span>],[<span class="number">111.728974</span>,<span class="number">37.044141</span>],[<span class="number">111.730123</span>,<span class="number">37.048289</span>],[<span class="number">111.734723</span>,<span class="number">37.05474</span>],[<span class="number">111.732998</span>,<span class="number">37.063495</span>],[<span class="number">111.742192</span>,<span class="number">37.064971</span>],[<span class="number">111.745642</span>,<span class="number">37.065662</span>],[<span class="number">111.749666</span>,<span class="number">37.066814</span>],[<span class="number">111.753116</span>,<span class="number">37.069809</span>],[<span class="number">111.756565</span>,<span class="number">37.072343</span>],[<span class="number">111.763177</span>,<span class="number">37.073494</span>],[<span class="number">111.768351</span>,<span class="number">37.075337</span>],[<span class="number">111.772375</span>,<span class="number">37.079253</span>],[<span class="number">111.776139</span>,<span class="number">37.081661</span>]]]]</span>&#125;</span>&#125;]</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="echarts_u6F14_u793A_u5982_u4E0B"><a href="#echarts_u6F14_u793A_u5982_u4E0B" class="headerlink" title="echarts演示如下"></a>echarts演示如下</h3><iframe src="/demo/xiaoyi.html" width="800" height="600" frameborder="0" allowfullscreen></iframe>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="u9700_u6C42"><a href="#u9700_u6C42" class="headerlink" title="需求"></a>需求</h2><p>最近需要试用echarts来展示某一个地级市的地形图,而echarts自带的行政区划只到市这一级,地级市]]>
    </summary>
    
      <category term="baiduMap" scheme="http://chenbing8512.github.io/cbxjj/tags/baiduMap/"/>
    
      <category term="javascript" scheme="http://chenbing8512.github.io/cbxjj/tags/javascript/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="javascript" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/javascript/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[java jar包备份]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2015/12/28/java-jars-backup/"/>
    <id>http://chenbing8512.github.io/cbxjj/2015/12/28/java-jars-backup/</id>
    <published>2015-12-28T03:30:32.000Z</published>
    <updated>2016-01-20T03:43:39.116Z</updated>
    <content type="html"><![CDATA[<p><a href="/2015/12/28/java-jars-backup/DJNativeSwing-SWT-1-0-3-20140708.zip" title="DJNativeSwing-SWT">DJNativeSwing-SWT</a> 是一个跨平台的浏览器、Flash播放器、HTML编辑器和多媒体播放器组件。<br><a href="/2015/12/28/java-jars-backup/bootstrap-3.3.5-dist.zip" title="bootstrap">bootstrap</a> 简洁、直观、强悍、移动设备优先的前端开发框架。<br><a href="/2015/12/28/java-jars-backup/fancyapps-fancyBox-v2.1.5-0-ge2248f4.zip" title="fancybox">fancybox</a> 是一款优秀的jquery插件,它能够展示丰富的弹出层效果。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="/2015/12/28/java-jars-backup/DJNativeSwing-SWT-1-0-3-20140708.zip" title="DJNativeSwing-SWT">DJNativeSwing-SWT</a> 是一个跨平台的浏览器、Fl]]>
    </summary>
    
      <category term="jar" scheme="http://chenbing8512.github.io/cbxjj/tags/jar/"/>
    
      <category term="java" scheme="http://chenbing8512.github.io/cbxjj/tags/java/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[使用莹石云调取本地摄像头]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2015/12/25/use-yingshiyun-check-local-camera/"/>
    <id>http://chenbing8512.github.io/cbxjj/2015/12/25/use-yingshiyun-check-local-camera/</id>
    <published>2015-12-25T10:11:37.000Z</published>
    <updated>2016-01-20T03:43:39.107Z</updated>
    <content type="html"><![CDATA[<p>正在做的一个项目里面需要将本地摄像头实时显示到web页面上，选中了<a href="https://www.ys7.com/" target="_blank" rel="external">莹石云</a>这个平台，可以免费试用，只要硬件能和平台对接上。以下为web对接详细:</p>
<h2 id="u9996_u5148_u521B_u5EFA_u5E94_u7528"><a href="#u9996_u5148_u521B_u5EFA_u5E94_u7528" class="headerlink" title="首先创建应用"></a>首先创建应用</h2><p><a href="https://open.ys7.com/app.html" target="_blank" rel="external">https://open.ys7.com/app.html</a>在此地址创建应用然后等待审核通过<br>可以看到本应用的APP Key和Secret Key</p>
<h2 id="u5C06_u89C6_u9891_u53D1_u5E03_u5230_u89C6_u9891_u5E7F_u573A"><a href="#u5C06_u89C6_u9891_u53D1_u5E03_u5230_u89C6_u9891_u5E7F_u573A" class="headerlink" title="将视频发布到视频广场"></a>将视频发布到视频广场</h2><p>让视频迅速加入web而不必自己开发sdk就必须要将摄像头发布到视频广场<br>通过接口3.15(请查看莹石云<a href="https://open.ys7.com/download/doc/ezviz-api-doc_20151026.rar" target="_blank" rel="external">接口文档</a>)将摄像头发布到视频广场<br><figure class="highlight processing"><figcaption><span>获取AccessToken</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> YsyResult getAccessToken() &#123;</span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; paramsMap = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;();</span><br><span class="line">	paramsMap.put(<span class="string">"phone"</span>, PHONE);</span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; <span class="built_in">map</span> = paramsInit(<span class="string">"token/getAccessToken"</span>, paramsMap);</span><br><span class="line">	<span class="keyword">String</span> json = doPost(<span class="built_in">map</span>);</span><br><span class="line">	<span class="keyword">return</span> JSON.parseObject(json, YsyResult.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight dart"><figcaption><span>发送短信验证码</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public <span class="literal">static</span> YsyResult getMsgCode()&#123;</span><br><span class="line">	YsyResult res =  getAccessToken();</span><br><span class="line">	<span class="keyword">if</span>(res.getResult().getCode().equals(<span class="string">"200"</span>))&#123;</span><br><span class="line">		<span class="built_in">Map</span>&lt;<span class="built_in">String</span>,<span class="built_in">String</span>&gt; data = (<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">String</span>&gt;) res.getResult().getData();</span><br><span class="line">		<span class="built_in">String</span> accessToken = data.<span class="literal">get</span>(<span class="string">"accessToken"</span>);</span><br><span class="line">		<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">Object</span>&gt; paramsMap = <span class="keyword">new</span> HashMap&lt;<span class="built_in">String</span>, <span class="built_in">Object</span>&gt;();</span><br><span class="line">		paramsMap.put(<span class="string">"accessToken"</span>, accessToken);</span><br><span class="line">		paramsMap.put(<span class="string">"type"</span>, <span class="string">"1"</span>);</span><br><span class="line">		<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">Object</span>&gt; map = paramsInit(<span class="string">"msg/getMsgCode"</span>, paramsMap);</span><br><span class="line">		<span class="built_in">String</span> json = doPost(map);</span><br><span class="line">		<span class="keyword">return</span> JSON.parseObject(json, YsyResult.<span class="keyword">class</span>);</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><figure class="highlight applescript"><figcaption><span>分享视频到视频广场</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public static YsyResult ShareSquareVideo()&#123;</span><br><span class="line">	Map&lt;String, Object&gt; paramsMap = new HashMap&lt;String, Object&gt;();</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"validateCode"</span>, <span class="string">"验证码"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"deviceSerial"</span>, <span class="string">"设备号"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"channelNo"</span>, <span class="number">1</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"title"</span>, <span class="string">"11"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"description"</span>, <span class="string">"22"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"tag"</span>, <span class="string">"33"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"channel"</span>, <span class="string">"2"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"isOpenSound"</span>, <span class="string">"1"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"timerEnabled"</span>, <span class="string">"1"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"timerPeriod"</span>, <span class="string">"0,1,2,3,4,5,6"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"timerStart"</span>, <span class="string">"00:00"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"timerEnd"</span>, <span class="string">"23:59"</span>);</span><br><span class="line">	paramsMap.<span class="keyword">put</span>(<span class="string">"thirdComment"</span>, <span class="string">"xxx"</span>);</span><br><span class="line">	Map&lt;String, Object&gt; map = paramsInit(<span class="string">"square/share"</span>, paramsMap);</span><br><span class="line">	String json = doPost(map);</span><br><span class="line"><span class="command">	return</span> JSON.parseObject(json, YsyResult.<span class="type">class</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>然后等待审核通过</p>
<h2 id="u5C06_u89C6_u9891_u53D1_u5E03_u5230_u89C6_u9891_u5E7F_u573A-1"><a href="#u5C06_u89C6_u9891_u53D1_u5E03_u5230_u89C6_u9891_u5E7F_u573A-1" class="headerlink" title="将视频发布到视频广场"></a>将视频发布到视频广场</h2><p>通过3.16接口查看自己发布的摄像头信息<br><figure class="highlight processing"><figcaption><span>获取管理员发布的视频广场的公共视频资源</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> YsyResult SquareVideoListByUser()&#123;</span><br><span class="line">	Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; paramsMap = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;();</span><br><span class="line">	paramsMap.put(<span class="string">"pageSize"</span>, <span class="string">"20"</span>);</span><br><span class="line">	paramsMap.put(<span class="string">"pageStart"</span>, <span class="string">"0"</span>);</span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; <span class="built_in">map</span> = paramsInit(<span class="string">"squareVideoListByUser"</span>, paramsMap);</span><br><span class="line">	<span class="keyword">String</span> json = doPost(<span class="built_in">map</span>);</span><br><span class="line">	<span class="keyword">return</span> gson.fromJson(json, YsyResult.class);</span><br><span class="line">	<span class="comment">//return JSON.parseObject(json, YsyResult.class);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>返回信息如下：<br><figure class="highlight json"><figcaption><span>返回的json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;"<span class="attribute">result</span>":<span class="value">&#123;"<span class="attribute">page</span>":<span class="value">&#123;"<span class="attribute">total</span>":<span class="value"><span class="number">1</span></span>,"<span class="attribute">page</span>":<span class="value"><span class="number">1</span></span>,"<span class="attribute">size</span>":<span class="value"><span class="number">20</span></span>&#125;</span>,"<span class="attribute">data</span>":<span class="value">[&#123;"<span class="attribute">squareId</span>":<span class="value"><span class="string">"xxxxxx"</span></span>,"<span class="attribute">title</span>":<span class="value"><span class="string">"xxx"</span></span>,"<span class="attribute">address</span>":<span class="value"><span class="string">"xxxx"</span></span>,"<span class="attribute">viewedCount</span>":<span class="value"><span class="number">161</span></span>,"<span class="attribute">likeCount</span>":<span class="value"><span class="number">1</span></span>,"<span class="attribute">commentCount</span>":<span class="value"><span class="number">0</span></span>,"<span class="attribute">favoriteCount</span>":<span class="value"><span class="number">3</span></span>,"<span class="attribute">coverUrl</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">playUrl</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">m3u8Url</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">iframeUrl</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">rtmpUrl</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">longitude</span>":<span class="value"><span class="string">""</span></span>,"<span class="attribute">latitude</span>":<span class="value"><span class="string">""</span></span>&#125;]</span>,"<span class="attribute">code</span>":<span class="value"><span class="string">"200"</span></span>,"<span class="attribute">msg</span>":<span class="value"><span class="string">"操作成功!"</span></span>&#125;</span>&#125;</span><br></pre></td></tr></table></figure><br>在web页面查看只需要rtmpUrl即可</p>
<h2 id="html_u9875_u9762_u663E_u793A_u6444_u50CF_u5934_u754C_u9762"><a href="#html_u9875_u9762_u663E_u793A_u6444_u50CF_u5934_u754C_u9762" class="headerlink" title="html页面显示摄像头界面"></a>html页面显示摄像头界面</h2><p>这里我使用的一个工具<a href="http://www.sewise.com/?mod=index&amp;do=product&amp;key=7" target="_blank" rel="external">sewise player</a><br>主页上文档很详细<br>最终html页面如下<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="doctype">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">html</span> <span class="attribute">lang</span>=<span class="value">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"X-UA-Compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">name</span>=<span class="value">"viewport"</span></span><br><span class="line">	<span class="attribute">content</span>=<span class="value">"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">title</span>&gt;</span>Sewise Player<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"../js/jquery-1.9.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">style</span> <span class="attribute">type</span>=<span class="value">"text/css"</span>&gt;</span><span class="css"></span><br><span class="line"><span class="tag">html</span>,<span class="tag">body</span> <span class="rules">&#123;</span><br><span class="line">	<span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0px</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">	<span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">100%</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><span class="tag">&lt;/<span class="title">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">div</span> <span class="attribute">style</span>=<span class="value">"height: 100%"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"../player/sewise.player.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">			$.ajax(&#123;</span><br><span class="line">				type : <span class="string">"POST"</span>,</span><br><span class="line">				url : <span class="string">"../ajaxDataAction.do?action=getCameraUrl"</span>,</span><br><span class="line">				dataType : <span class="string">"json"</span>,</span><br><span class="line">				success : <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">					<span class="keyword">if</span> (res.statusCode == <span class="string">"0"</span>) &#123;</span><br><span class="line">						<span class="keyword">var</span> rtmpUrl = res.result.rtmpUrl;</span><br><span class="line">						SewisePlayer.setup(&#123;</span><br><span class="line">							server : <span class="string">"live"</span>,</span><br><span class="line">							type : <span class="string">"rtmp"</span>,</span><br><span class="line">							skin : <span class="string">"liveWhite"</span>,</span><br><span class="line">							streamurl : rtmpUrl,</span><br><span class="line">							title : <span class="string">""</span>,</span><br><span class="line">							lang : <span class="string">'zh_CN'</span></span><br><span class="line">						&#125;);</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						alert(res.errorMsg);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;,</span><br><span class="line">				error : <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span><br></pre></td></tr></table></figure><br>试用效果如下:<br><img src="/2015/12/25/use-yingshiyun-check-local-camera/ysy.png" alt="莹石云效果图" title="莹石云效果图"></p>
<h2 id="u9644_u5F55"><a href="#u9644_u5F55" class="headerlink" title="附录"></a>附录</h2><figure class="highlight processing"><figcaption><span>参数初始化</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; paramsInit(<span class="keyword">String</span> method,</span><br><span class="line">			Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; paramsMap) &#123;</span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; <span class="built_in">map</span> = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;();</span><br><span class="line">	<span class="keyword">long</span> time = System.currentTimeMillis() / <span class="number">1000</span>;</span><br><span class="line">	StringBuilder paramString = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">	List&lt;<span class="keyword">String</span>&gt; paramList = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">String</span>&gt;();</span><br><span class="line">	<span class="keyword">for</span> (Iterator&lt;<span class="keyword">String</span>&gt; it = paramsMap.keySet().iterator(); it.hasNext();) &#123;</span><br><span class="line">		<span class="keyword">String</span> key1 = it.next();</span><br><span class="line">		<span class="keyword">String</span> param = key1 + <span class="string">":"</span> + paramsMap.<span class="built_in">get</span>(key1);</span><br><span class="line">		paramList.<span class="built_in">add</span>(param);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">String</span>[] params = paramList.toArray(<span class="keyword">new</span> <span class="keyword">String</span>[paramList.<span class="built_in">size</span>()]);</span><br><span class="line">	Arrays.<span class="built_in">sort</span>(params);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">String</span> param : params) &#123;</span><br><span class="line">		paramString.<span class="built_in">append</span>(param).<span class="built_in">append</span>(<span class="string">","</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	paramString.<span class="built_in">append</span>(<span class="string">"method"</span>).<span class="built_in">append</span>(<span class="string">":"</span>).<span class="built_in">append</span>(method).<span class="built_in">append</span>(<span class="string">","</span>);</span><br><span class="line">	paramString.<span class="built_in">append</span>(<span class="string">"time"</span>).<span class="built_in">append</span>(<span class="string">":"</span>).<span class="built_in">append</span>(time).<span class="built_in">append</span>(<span class="string">","</span>);</span><br><span class="line">	paramString.<span class="built_in">append</span>(<span class="string">"secret"</span>).<span class="built_in">append</span>(<span class="string">":"</span>).<span class="built_in">append</span>(SECRETKEY);</span><br><span class="line">	<span class="keyword">String</span> sign = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		sign = DigestUtils.md5Hex(paramString.toString().<span class="built_in">trim</span>()</span><br><span class="line">				.getBytes(<span class="string">"UTF-8"</span>));</span><br><span class="line">	&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Map&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt; systemMap = <span class="keyword">new</span> <span class="keyword">HashMap</span>&lt;<span class="keyword">String</span>, <span class="keyword">Object</span>&gt;();</span><br><span class="line">	systemMap.put(<span class="string">"ver"</span>, <span class="string">"1.0"</span>);</span><br><span class="line">	systemMap.put(<span class="string">"sign"</span>, sign);</span><br><span class="line">	systemMap.put(<span class="string">"key"</span>, APPKEY);</span><br><span class="line">	systemMap.put(<span class="string">"time"</span>, time);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">map</span>.put(<span class="string">"system"</span>, systemMap);</span><br><span class="line">	<span class="built_in">map</span>.put(<span class="string">"method"</span>, method);</span><br><span class="line">	<span class="built_in">map</span>.put(<span class="string">"params"</span>, paramsMap);</span><br><span class="line">	<span class="built_in">map</span>.put(<span class="string">"id"</span>, <span class="string">"123456"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">map</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>http请求接口试用了httpclient4，莹石云demo里面用的httpclient3，再tomcat里面试用有乱码问题，这里修改为httpclient4<br><figure class="highlight nimrod"><figcaption><span>http请求接口</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">private <span class="keyword">static</span> <span class="type">String</span> doPost(<span class="type">Map</span>&lt;<span class="type">String</span>, <span class="type">Object</span>&gt; map) &#123;</span><br><span class="line">	<span class="type">String</span> json = <span class="type">JSON</span>.toJSONString(map);</span><br><span class="line">	<span class="type">ProtocolSocketFactory</span> fcty = new <span class="type">MySecureProtocolSocketFactory</span>();</span><br><span class="line">	<span class="type">Protocol</span>.registerProtocol(<span class="string">"https"</span>, new <span class="type">Protocol</span>(<span class="string">"https"</span>, fcty, <span class="number">443</span>));</span><br><span class="line">	<span class="type">DefaultHttpClient</span> client = new <span class="type">DefaultHttpClient</span>();</span><br><span class="line">	<span class="type">HttpPost</span> post = new <span class="type">HttpPost</span>(<span class="string">"https://open.ys7.com:443/api/method"</span>);</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		<span class="type">StringEntity</span> requestEntity = new <span class="type">StringEntity</span>(json,<span class="string">"utf-8"</span>);</span><br><span class="line">		requestEntity.setContentEncoding(<span class="string">"UTF-8"</span>);    	        </span><br><span class="line">		post.setHeader(<span class="string">"Content-type"</span>, <span class="string">"application/json"</span>);</span><br><span class="line">		post.setEntity(requestEntity);</span><br><span class="line">		</span><br><span class="line">		<span class="type">HttpResponse</span> response = client.execute(post);</span><br><span class="line">		<span class="keyword">if</span>(response.getStatusLine().getStatusCode() == <span class="type">HttpStatus</span>.<span class="type">SC_OK</span>)&#123;</span><br><span class="line">			<span class="type">HttpEntity</span> entityD = response.getEntity();</span><br><span class="line">			<span class="type">String</span> <span class="literal">result</span> = <span class="type">EntityUtils</span>.toString(entityD, <span class="string">"UTF-8"</span>);</span><br><span class="line">			<span class="type">System</span>.<span class="keyword">out</span>.println(<span class="literal">result</span>);</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">result</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> null;</span><br><span class="line">	&#125; catch (<span class="type">Exception</span> e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">		post.abort();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>正在做的一个项目里面需要将本地摄像头实时显示到web页面上，选中了<a href="https://www.ys7.com/" target="_blank" rel="external">莹石云</a>这个平台，可以免费试用，只要硬件能和平台对接上。以下为web对接详细:]]>
    </summary>
    
      <category term="莹石云" scheme="http://chenbing8512.github.io/cbxjj/tags/%E8%8E%B9%E7%9F%B3%E4%BA%91/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="莹石云" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/%E8%8E%B9%E7%9F%B3%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb常见命令汇总]]></title>
    <link href="http://chenbing8512.github.io/cbxjj/2015/12/22/mongodb%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB/"/>
    <id>http://chenbing8512.github.io/cbxjj/2015/12/22/mongodb常见命令汇总/</id>
    <published>2015-12-22T03:08:38.000Z</published>
    <updated>2016-01-20T03:43:39.112Z</updated>
    <content type="html"><![CDATA[<h2 id="Replica_Set__u96C6_u7FA4_u642D_u5EFA"><a href="#Replica_Set__u96C6_u7FA4_u642D_u5EFA" class="headerlink" title="Replica Set 集群搭建"></a>Replica Set 集群搭建</h2><p>中文翻译叫做副本集，不过我并不喜欢把英文翻译成中文，总是感觉怪怪的。其实简单来说就是集群当中包含了多份数据，保证主节点挂掉了，备节点能继续提供数据服务，提供的前提就是数据需要和主节点一致。如下图：<br>    <img src="/2015/12/22/mongodb常见命令汇总/mongdb1.png" alt="副本集结构图" title="副本集结构图"><br>    Mongodb(M)表示主节点，Mongodb(S)表示备节点，Mongodb(A)表示仲裁节点。主备节点存储数据，仲裁节点不存储数据。客户端同时连接主节点与备节点，不连接仲裁节点。<br>默认设置下，主节点提供所有增删查改服务，备节点不提供任何服务。但是可以通过设置使备节点提供查询服务，这样就可以减少主节点的压力，当客户端进行数据查询时，请求自动转到备节点上。这个设置叫做Read Preference Modes，同时Java客户端提供了简单的配置方式，可以不必直接对数据库进行操作。<br>仲裁节点是一种特殊的节点，它本身并不存储数据，主要的作用是决定哪一个备节点在主节点挂掉之后提升为主节点，所以客户端不需要连接此节点。这里虽然只有一个备节点，但是仍然需要一个仲裁节点来提升备节点级别。我开始也不相信必须要有仲裁节点，但是自己也试过没仲裁节点的话，主节点挂了备节点还是备节点，所以咱们还是需要它的。<br>介绍完了集群方案，那么现在就开始搭建了。</p>
<h3 id="u5EFA_u7ACB_u6570_u636E_u6587_u4EF6_u5939"><a href="#u5EFA_u7ACB_u6570_u636E_u6587_u4EF6_u5939" class="headerlink" title="建立数据文件夹"></a>建立数据文件夹</h3><p>一般情况下不会把数据目录建立在mongodb的解压目录下，不过这里方便起见，就建在mongodb解压目录下吧。<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">mkdir</span> -p /mongodb/<span class="typedef"><span class="keyword">data</span>/master   </span></span><br><span class="line"><span class="title">mkdir</span> -p /mongodb/<span class="typedef"><span class="keyword">data</span>/slaver   </span></span><br><span class="line"><span class="title">mkdir</span> -p /mongodb/<span class="typedef"><span class="keyword">data</span>/arbiter    </span></span><br><span class="line"><span class="preprocessor">#三个目录分别对应主，备，仲裁节点</span></span><br></pre></td></tr></table></figure></p>
<h3 id="u5EFA_u7ACB_u914D_u7F6E_u6587_u4EF6"><a href="#u5EFA_u7ACB_u914D_u7F6E_u6587_u4EF6" class="headerlink" title="建立配置文件"></a>建立配置文件</h3><p>由于配置比较多，所以我们将配置写到文件里。<br><figure class="highlight ini"><figcaption><span>master.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">dbpath=<span class="value">/mongodb/data/master</span></span></span><br><span class="line"><span class="setting">logpath=<span class="value">/mongodb/log/master.log</span></span></span><br><span class="line"><span class="setting">pidfilepath=<span class="value">/mongodb/master.pid</span></span></span><br><span class="line"><span class="setting">directoryperdb=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">logappend=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">replSet=<span class="value">testrs</span></span></span><br><span class="line"><span class="setting">bind_ip=<span class="value"><span class="number">10.10</span>.<span class="number">148.130</span></span></span></span><br><span class="line"><span class="setting">port=<span class="value"><span class="number">27017</span></span></span></span><br><span class="line"><span class="setting">oplogSize=<span class="value"><span class="number">10000</span></span></span></span><br><span class="line"><span class="setting">fork=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">noprealloc=<span class="value"><span class="keyword">true</span></span></span></span><br></pre></td></tr></table></figure><br><figure class="highlight ini"><figcaption><span>slaver.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">dbpath=<span class="value">/mongodb/data/slaver</span></span></span><br><span class="line"><span class="setting">logpath=<span class="value">/mongodb/log/slaver.log</span></span></span><br><span class="line"><span class="setting">pidfilepath=<span class="value">/mongodb/slaver.pid</span></span></span><br><span class="line"><span class="setting">directoryperdb=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">logappend=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">replSet=<span class="value">testrs</span></span></span><br><span class="line"><span class="setting">bind_ip=<span class="value"><span class="number">10.10</span>.<span class="number">148.131</span></span></span></span><br><span class="line"><span class="setting">port=<span class="value"><span class="number">27017</span></span></span></span><br><span class="line"><span class="setting">oplogSize=<span class="value"><span class="number">10000</span></span></span></span><br><span class="line"><span class="setting">fork=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">noprealloc=<span class="value"><span class="keyword">true</span></span></span></span><br></pre></td></tr></table></figure><br><figure class="highlight ini"><figcaption><span>arbiter.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="setting">dbpath=<span class="value">/mongodb/data/arbiter</span></span></span><br><span class="line"><span class="setting">logpath=<span class="value">/mongodb/log/arbiter.log</span></span></span><br><span class="line"><span class="setting">pidfilepath=<span class="value">/mongodb/arbiter.pid</span></span></span><br><span class="line"><span class="setting">directoryperdb=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">logappend=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">replSet=<span class="value">testrs</span></span></span><br><span class="line"><span class="setting">bind_ip=<span class="value"><span class="number">10.10</span>.<span class="number">148.132</span></span></span></span><br><span class="line"><span class="setting">port=<span class="value"><span class="number">27017</span></span></span></span><br><span class="line"><span class="setting">oplogSize=<span class="value"><span class="number">10000</span></span></span></span><br><span class="line"><span class="setting">fork=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="setting">noprealloc=<span class="value"><span class="keyword">true</span></span></span></span><br></pre></td></tr></table></figure><br>参数解释：<br>dbpath：数据存放目录<br>logpath：日志存放路径<br>pidfilepath：进程文件，方便停止mongodb<br>directoryperdb：为每一个数据库按照数据库名建立文件夹存放<br>logappend：以追加的方式记录日志<br>replSet：replica set的名字<br>bind_ip：mongodb所绑定的ip地址<br>port：mongodb进程所使用的端口号，默认为27017<br>oplogSize：mongodb操作日志文件的最大大小。单位为Mb，默认为硬盘剩余空间的5%<br>fork：以后台方式运行进程<br>noprealloc：不预先分配存储</p>
<h3 id="u542F_u52A8mongodb"><a href="#u542F_u52A8mongodb" class="headerlink" title="启动mongodb"></a>启动mongodb</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mongdb/bin</span><br><span class="line">./monood <span class="operator">-f</span> master.conf</span><br><span class="line">./mongod <span class="operator">-f</span> slaver.conf</span><br><span class="line">./mongod <span class="operator">-f</span> arbiter.conf</span><br></pre></td></tr></table></figure>
<h3 id="u914D_u7F6E_u4E3B_uFF0C_u5907_uFF0C_u4EF2_u88C1_u8282_u70B9"><a href="#u914D_u7F6E_u4E3B_uFF0C_u5907_uFF0C_u4EF2_u88C1_u8282_u70B9" class="headerlink" title="配置主，备，仲裁节点"></a>配置主，备，仲裁节点</h3><p>进入主节点,做如下操作<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./mongo <span class="number">10.10</span>.<span class="number">148.130</span><span class="symbol">:</span><span class="number">27017</span>   <span class="comment">#ip和port是某个节点的地址</span></span><br><span class="line">&gt;<span class="keyword">use</span> admin  </span><br><span class="line">&gt;cfg=&#123; <span class="constant">_id:</span><span class="string">"testrs"</span>, <span class="symbol">members:</span>[ &#123;<span class="constant">_id:</span><span class="number">0</span>,<span class="symbol">host:</span><span class="string">'10.10.148.130:27017'</span>,<span class="symbol">priority:</span><span class="number">2</span>&#125;, &#123;<span class="constant">_id:</span><span class="number">1</span>,<span class="symbol">host:</span><span class="string">'10.10.148.131:27017'</span>,<span class="symbol">priority:</span><span class="number">1</span>&#125;,   </span><br><span class="line">&#123;<span class="constant">_id:</span><span class="number">2</span>,<span class="symbol">host:</span><span class="string">'10.10.148.132:27017'</span>,<span class="symbol">arbiterOnly:</span><span class="keyword">true</span>&#125;] &#125;;  </span><br><span class="line">&gt;rs.initiate(cfg)             <span class="comment">#使配置生效</span></span><br></pre></td></tr></table></figure></p>
<p>cfg是可以任意的名字，当然最好不要是mongodb的关键字，conf，config都可以。最外层的_id表示replica set的名字，members里包含的是所有节点的地址以及优先级。优先级最高的即成为主节点，即这里的10.10.148.130:27017。特别注意的是，对于仲裁节点，需要有个特别的配置——arbiterOnly:true。这个千万不能少了，不然主备模式就不能生效。<br>不进入主节点做以上操作，则会报错</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	"<span class="attribute">ok</span>" : <span class="value"><span class="number">0</span></span>,</span><br><span class="line">	"<span class="attribute">errmsg</span>" : <span class="value"><span class="string">"replSetReconfig should only be run on PRIMARY, but my state is SECONDARY; use the \"force\" argument to override"</span></span>,</span><br><span class="line">	"<span class="attribute">code</span>" : <span class="value"><span class="number">10107</span></span><br><span class="line"></span>&#125;</span><br></pre></td></tr></table></figure>
<p>然后执行rs.status()可以查看集群配置信息了<br>rs.reconfig(cfg);重新生效配置</p>
]]></content>
    <summary type="html">
    <![CDATA[<h2 id="Replica_Set__u96C6_u7FA4_u642D_u5EFA"><a href="#Replica_Set__u96C6_u7FA4_u642D_u5EFA" class="headerlink" title="Replica Set 集群搭建"></]]>
    </summary>
    
      <category term="mongodb" scheme="http://chenbing8512.github.io/cbxjj/tags/mongodb/"/>
    
      <category term="IT技术" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/"/>
    
      <category term="数据库" scheme="http://chenbing8512.github.io/cbxjj/categories/IT%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
</feed>
